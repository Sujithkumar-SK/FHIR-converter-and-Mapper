2026-01-12 13:33:20 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 13:33:20 [INF] Now listening on: http://localhost:5201
2026-01-12 13:33:20 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 13:33:20 [INF] Hosting environment: Development
2026-01-12 13:33:20 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 13:51:06 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - null null
2026-01-12 13:51:06 [WRN] Failed to determine the https port for redirect.
2026-01-12 13:51:06 [INF] CORS policy execution successful.
2026-01-12 13:51:07 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - 204 null null 533.9736ms
2026-01-12 13:51:07 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/auth/login - application/json 73
2026-01-12 13:51:07 [INF] CORS policy execution successful.
2026-01-12 13:51:12 [INF] Executing endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 13:51:12 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Application.DTOs.Auth.LoginRequestDto) on controller Kanini.Api.Controllers.AuthController (Kanini.Api).
2026-01-12 13:51:14 [INF] Login attempt started for email: sujithkumarsenthilkumar777@gmail.com
2026-01-12 13:51:17 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 13:51:17 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 13:51:17 [INF] Executed DbCommand (46ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 150), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [Email] = @p2, [IsActive] = @p3, [LastLogin] = @p4, [OrganizationId] = @p5, [PasswordHash] = @p6, [Role] = @p7, [UpdatedBy] = @p8, [UpdatedOn] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2026-01-12 13:51:17 [INF] Login completed successfully for email: sujithkumarsenthilkumar777@gmail.com, UserId: "b0dc6191-7157-4876-56ef-08de4d169e36"
2026-01-12 13:51:17 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Auth.LoginResponseDto'.
2026-01-12 13:51:18 [INF] Executed action Kanini.Api.Controllers.AuthController.Login (Kanini.Api) in 5613.8852ms
2026-01-12 13:51:18 [INF] Executed endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 13:51:18 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/auth/login - 200 null application/json; charset=utf-8 10872.6165ms
2026-01-12 13:52:13 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - null null
2026-01-12 13:52:13 [INF] CORS policy execution successful.
2026-01-12 13:52:13 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - 204 null null 29.6176ms
2026-01-12 13:52:13 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/auth/login - application/json 67
2026-01-12 13:52:13 [INF] CORS policy execution successful.
2026-01-12 13:52:14 [INF] Executing endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 13:52:14 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Application.DTOs.Auth.LoginRequestDto) on controller Kanini.Api.Controllers.AuthController (Kanini.Api).
2026-01-12 13:52:14 [INF] Login attempt started for email: sujithkumar.kanini@outlook.com
2026-01-12 13:52:14 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 150), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [Email] = @p2, [IsActive] = @p3, [LastLogin] = @p4, [OrganizationId] = @p5, [PasswordHash] = @p6, [Role] = @p7, [UpdatedBy] = @p8, [UpdatedOn] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2026-01-12 13:52:14 [INF] Login completed successfully for email: sujithkumar.kanini@outlook.com, UserId: "908cc836-0cf6-4d22-b38f-08de4d1e4daf"
2026-01-12 13:52:14 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Auth.LoginResponseDto'.
2026-01-12 13:52:14 [INF] Executed action Kanini.Api.Controllers.AuthController.Login (Kanini.Api) in 383.9615ms
2026-01-12 13:52:14 [INF] Executed endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 13:52:14 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/auth/login - 200 null application/json; charset=utf-8 530.4295ms
2026-01-12 13:52:34 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 13:52:34 [INF] CORS policy execution successful.
2026-01-12 13:52:34 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:34 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:52:35 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:52:35 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 352.8486ms
2026-01-12 13:52:35 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:35 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 802.2638ms
2026-01-12 13:52:36 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 13:52:36 [INF] CORS policy execution successful.
2026-01-12 13:52:37 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:37 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:52:37 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:52:37 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 41.7998ms
2026-01-12 13:52:37 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:37 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 127.3032ms
2026-01-12 13:52:37 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 13:52:37 [INF] CORS policy execution successful.
2026-01-12 13:52:37 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:37 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:52:37 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:52:37 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 49.6179ms
2026-01-12 13:52:37 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:52:37 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 169.7201ms
2026-01-12 13:52:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 13:52:43 [INF] CORS policy execution successful.
2026-01-12 13:52:43 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 13:52:43 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 13:52:43 [INF] Getting all patients
2026-01-12 13:52:43 [INF] Getting all patients
2026-01-12 13:52:43 [INF] Retrieved 1 patients
2026-01-12 13:52:43 [INF] Retrieved 1 patients
2026-01-12 13:52:43 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:52:43 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 201.2889ms
2026-01-12 13:52:43 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 13:52:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 418.8341ms
2026-01-12 13:52:51 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 13:52:51 [INF] CORS policy execution successful.
2026-01-12 13:52:51 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 33.989ms
2026-01-12 13:52:51 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 142
2026-01-12 13:52:51 [INF] CORS policy execution successful.
2026-01-12 13:52:51 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 13:52:51 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:52:51 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 13:52:51 [ERR] Error executing stored procedure: sp_CheckDataRequestExists
System.IndexOutOfRangeException: UserExists
   at Microsoft.Data.SqlClient.SqlDataReader.GetOrdinal(String name)
   at System.Data.DataReaderExtensions.GetBoolean(DbDataReader reader, String name)
   at Kanini.Data.Infrastructure.DatabaseReader.MapToObject[T](SqlDataReader reader) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 104
   at Kanini.Data.Infrastructure.DatabaseReader.QuerySingleOrDefaultAsync[T](String storedProcedure, Object parameters) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 43
2026-01-12 13:52:51 [ERR] Error checking if data request exists for patient "b2faadec-73ee-45a9-90fa-fffbf125ec50"
System.IndexOutOfRangeException: UserExists
   at Microsoft.Data.SqlClient.SqlDataReader.GetOrdinal(String name)
   at System.Data.DataReaderExtensions.GetBoolean(DbDataReader reader, String name)
   at Kanini.Data.Infrastructure.DatabaseReader.MapToObject[T](SqlDataReader reader) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 104
   at Kanini.Data.Infrastructure.DatabaseReader.QuerySingleOrDefaultAsync[T](String storedProcedure, Object parameters) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 43
   at Kanini.Data.Repositories.DataRequests.DataRequestReadRepository.CheckRequestExistsAsync(Guid globalPatientId, Guid requestingOrganizationId, Guid sourceOrganizationId) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Repositories\DataRequests\DataRequestReadRepository.cs:line 71
2026-01-12 13:52:51 [ERR] Data request creation failed for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50", Error: UserExists
System.IndexOutOfRangeException: UserExists
   at Microsoft.Data.SqlClient.SqlDataReader.GetOrdinal(String name)
   at System.Data.DataReaderExtensions.GetBoolean(DbDataReader reader, String name)
   at Kanini.Data.Infrastructure.DatabaseReader.MapToObject[T](SqlDataReader reader) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 104
   at Kanini.Data.Infrastructure.DatabaseReader.QuerySingleOrDefaultAsync[T](String storedProcedure, Object parameters) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Infrastructure\DatabaseReader.cs:line 43
   at Kanini.Data.Repositories.DataRequests.DataRequestReadRepository.CheckRequestExistsAsync(Guid globalPatientId, Guid requestingOrganizationId, Guid sourceOrganizationId) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Data\Repositories\DataRequests\DataRequestReadRepository.cs:line 71
   at Kanini.Application.Services.DataRequests.DataRequestService.CreateRequestAsync(CreateDataRequestDto request, Guid requestingUserId, Guid requestingOrganizationId, String createdBy) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Application\Services\DataRequests\DataRequestService.cs:line 45
2026-01-12 13:52:52 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-12 13:52:52 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 396.6559ms
2026-01-12 13:52:52 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 13:52:52 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 400 null application/json; charset=utf-8 917.6568ms
2026-01-12 13:57:05 [INF] Application is shutting down...
2026-01-12 13:57:23 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 13:57:23 [INF] Now listening on: http://localhost:5201
2026-01-12 13:57:23 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 13:57:23 [INF] Hosting environment: Development
2026-01-12 13:57:23 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 13:57:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 13:57:30 [WRN] Failed to determine the https port for redirect.
2026-01-12 13:57:30 [INF] CORS policy execution successful.
2026-01-12 13:57:30 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 13:57:30 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 13:57:31 [INF] Getting all patients
2026-01-12 13:57:31 [INF] Getting all patients
2026-01-12 13:57:33 [INF] Retrieved 1 patients
2026-01-12 13:57:33 [INF] Retrieved 1 patients
2026-01-12 13:57:33 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:57:33 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 2914.5264ms
2026-01-12 13:57:33 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 13:57:33 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 3663.7409ms
2026-01-12 13:57:41 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 13:57:41 [INF] CORS policy execution successful.
2026-01-12 13:57:41 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 22.7863ms
2026-01-12 13:57:41 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 137
2026-01-12 13:57:41 [INF] CORS policy execution successful.
2026-01-12 13:57:41 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 13:57:41 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:57:41 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 13:57:43 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 13:57:43 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 13:57:45 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (Size = 1000), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DataRequests] ([RequestId], [ApprovedAt], [ApprovedByUserId], [CreatedBy], [CreatedOn], [ExpiresAt], [GlobalPatientId], [Notes], [OrganizationId], [OrganizationId1], [RequestingOrganizationId], [RequestingUserId], [SourceOrganizationId], [Status], [UpdatedBy], [UpdatedOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 13:57:45 [INF] Data request created successfully with ID: "4095b3aa-5853-4ef4-9f9f-b99ae99ab020"
2026-01-12 13:57:45 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:57:45 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 3929.3187ms
2026-01-12 13:57:45 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 13:57:45 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 200 null application/json; charset=utf-8 4034.3981ms
2026-01-12 13:57:49 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 13:57:49 [INF] CORS policy execution successful.
2026-01-12 13:57:49 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:49 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:57:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:57:49 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 132.6377ms
2026-01-12 13:57:49 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:49 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 299.7098ms
2026-01-12 13:57:53 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 13:57:53 [INF] CORS policy execution successful.
2026-01-12 13:57:53 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:53 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:57:53 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:57:53 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 52.511ms
2026-01-12 13:57:54 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:54 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 114.5271ms
2026-01-12 13:57:54 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 13:57:55 [INF] CORS policy execution successful.
2026-01-12 13:57:55 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:55 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:57:55 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:57:55 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 29.198ms
2026-01-12 13:57:55 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:57:55 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 150.1401ms
2026-01-12 13:57:56 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/116ba327-0da7-46e3-8826-3e261917ebf8 - null null
2026-01-12 13:57:56 [INF] CORS policy execution successful.
2026-01-12 13:57:57 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:57:57 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:57:57 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:57:57 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 69.5656ms
2026-01-12 13:57:57 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:57:57 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/116ba327-0da7-46e3-8826-3e261917ebf8 - 200 null application/json; charset=utf-8 238.58ms
2026-01-12 13:58:05 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 13:58:05 [INF] CORS policy execution successful.
2026-01-12 13:58:05 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:05 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:05 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:58:05 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 64.4738ms
2026-01-12 13:58:05 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:05 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 174.5991ms
2026-01-12 13:58:11 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 13:58:11 [INF] CORS policy execution successful.
2026-01-12 13:58:11 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:58:11 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:11 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:58:11 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 49.3598ms
2026-01-12 13:58:11 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:58:11 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 194.3728ms
2026-01-12 13:58:12 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 13:58:12 [INF] CORS policy execution successful.
2026-01-12 13:58:12 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:58:12 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:12 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 13:58:12 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 26.4178ms
2026-01-12 13:58:12 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 13:58:12 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 102.577ms
2026-01-12 13:58:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 13:58:14 [INF] CORS policy execution successful.
2026-01-12 13:58:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:14 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:14 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:58:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 16.4826ms
2026-01-12 13:58:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 143.0534ms
2026-01-12 13:58:17 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020/approve - null null
2026-01-12 13:58:17 [INF] CORS policy execution successful.
2026-01-12 13:58:17 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020/approve - 204 null null 18.1846ms
2026-01-12 13:58:17 [INF] Request starting HTTP/1.1 PUT http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020/approve - application/json 56
2026-01-12 13:58:17 [INF] CORS policy execution successful.
2026-01-12 13:58:17 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 13:58:17 [INF] Route matched with {action = "ApproveRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveRequest(System.Guid, Kanini.Application.DTOs.DataRequests.ApproveDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:17 [INF] Data request approval started for RequestId: "4095b3aa-5853-4ef4-9f9f-b99ae99ab020"
2026-01-12 13:58:19 [INF] Executed DbCommand (8ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 13:58:19 [INF] Executed DbCommand (20ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [ApprovedAt] = @p0, [ApprovedByUserId] = @p1, [Notes] = @p2, [Status] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RequestId] = @p6;
2026-01-12 13:58:19 [INF] Data request approved successfully for RequestId: "4095b3aa-5853-4ef4-9f9f-b99ae99ab020"
2026-01-12 13:58:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:58:19 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api) in 1869.6129ms
2026-01-12 13:58:19 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 13:58:19 [INF] Request finished HTTP/1.1 PUT http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020/approve - 200 null application/json; charset=utf-8 2189.8136ms
2026-01-12 13:58:54 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 13:58:54 [INF] CORS policy execution successful.
2026-01-12 13:58:54 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:54 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 13:58:54 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 13:58:54 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 61.4429ms
2026-01-12 13:58:54 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 13:58:54 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 115.001ms
2026-01-12 13:59:11 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - multipart/form-data; boundary=----WebKitFormBoundarySnMGkptj7QerzRa5 339
2026-01-12 13:59:11 [INF] CORS policy execution successful.
2026-01-12 13:59:11 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 13:59:11 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 13:59:11 [INF] File upload started: validation_target_sample.csv, Size: 139
2026-01-12 13:59:11 [INF] File upload completed: "7429678a-8249-49ab-9022-dcdfeaff7553", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\7429678a-8249-49ab-9022-dcdfeaff7553_validation_target_sample.csv
2026-01-12 13:59:11 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 13:59:11 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 235.8624ms
2026-01-12 13:59:11 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 13:59:11 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 401.1772ms
2026-01-12 13:59:17 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/7429678a-8249-49ab-9022-dcdfeaff7553/detect-fields - null null
2026-01-12 13:59:17 [INF] CORS policy execution successful.
2026-01-12 13:59:17 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/7429678a-8249-49ab-9022-dcdfeaff7553/detect-fields - 204 null null 116.2226ms
2026-01-12 13:59:17 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/7429678a-8249-49ab-9022-dcdfeaff7553/detect-fields - null null
2026-01-12 13:59:17 [INF] CORS policy execution successful.
2026-01-12 13:59:17 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 13:59:17 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 13:59:25 [INF] Field mapping detected for FileId: "7429678a-8249-49ab-9022-dcdfeaff7553", Detected: 0 fields
2026-01-12 13:59:25 [INF] Field mapping detected for FileId: "7429678a-8249-49ab-9022-dcdfeaff7553", Detected: 7 fields
2026-01-12 13:59:25 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 13:59:25 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 7385.5106ms
2026-01-12 13:59:25 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 13:59:25 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/7429678a-8249-49ab-9022-dcdfeaff7553/detect-fields - 200 null application/json; charset=utf-8 7632.06ms
2026-01-12 14:00:02 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 14:00:02 [INF] CORS policy execution successful.
2026-01-12 14:00:02 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 19.9803ms
2026-01-12 14:00:02 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 631
2026-01-12 14:00:02 [INF] CORS policy execution successful.
2026-01-12 14:00:02 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 14:00:02 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:00:02 [INF] Starting conversion for FileId: "7429678a-8249-49ab-9022-dcdfeaff7553"
2026-01-12 14:00:02 [INF] Executed DbCommand (11ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 14:00:03 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 14:00:03 [INF] Background conversion task started for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198"
2026-01-12 14:00:03 [INF] Conversion job created - FileId: "7429678a-8249-49ab-9022-dcdfeaff7553", JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198"
2026-01-12 14:00:03 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 14:00:03 [INF] Starting conversion process for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198"
2026-01-12 14:00:03 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 697.4681ms
2026-01-12 14:00:03 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 14:00:03 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:00:03 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 826.0533ms
2026-01-12 14:00:03 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\7429678a-8249-49ab-9022-dcdfeaff7553_validation_target_sample.csv for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198"
2026-01-12 14:00:03 [INF] Parsed 1 patient and 2 observations for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198"
2026-01-12 14:00:03 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 14:00:03 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 14:00:03 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [RequestId] = @p3;
2026-01-12 14:00:03 [INF] DataRequest "4095b3aa-5853-4ef4-9f9f-b99ae99ab020" marked as DataReady
2026-01-12 14:00:03 [INF] Conversion completed for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198", Patients: 1, Observations: 2
2026-01-12 14:00:06 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:00:06 [INF] CORS policy execution successful.
2026-01-12 14:00:06 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/e1949a05-fbb0-43ff-a437-8a8b16091198 - 204 null null 26.3192ms
2026-01-12 14:00:06 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:00:06 [INF] CORS policy execution successful.
2026-01-12 14:00:06 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 14:00:06 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:00:07 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:00:07 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 14:00:07 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 72.6777ms
2026-01-12 14:00:07 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 14:00:07 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/e1949a05-fbb0-43ff-a437-8a8b16091198 - 200 null application/json; charset=utf-8 302.4404ms
2026-01-12 14:00:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 14:00:14 [INF] CORS policy execution successful.
2026-01-12 14:00:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:00:14 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:00:14 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 14:00:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 62.8157ms
2026-01-12 14:00:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:00:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 181.7294ms
2026-01-12 14:00:16 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 14:00:16 [INF] CORS policy execution successful.
2026-01-12 14:00:16 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:16 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:00:16 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:00:16 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 66.718ms
2026-01-12 14:00:16 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:16 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 141.7657ms
2026-01-12 14:00:20 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 14:00:20 [INF] CORS policy execution successful.
2026-01-12 14:00:20 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 204 null null 25.1529ms
2026-01-12 14:00:20 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/by-request/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 14:00:20 [INF] CORS policy execution successful.
2026-01-12 14:00:20 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 14:00:20 [INF] Route matched with {action = "GetConversionByRequestId", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionByRequestId(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:00:20 [INF] Executed DbCommand (10ms) [Parameters=[@requestId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[RequestId] = @requestId
2026-01-12 14:00:20 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 14:00:20 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api) in 110.4445ms
2026-01-12 14:00:20 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 14:00:20 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/by-request/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 271.2646ms
2026-01-12 14:00:20 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:00:20 [INF] CORS policy execution successful.
2026-01-12 14:00:20 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:00:20 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:00:20 [INF] Executed DbCommand (13ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:00:20 [INF] Created FHIR Bundle with 1 Patient and 2 Observations
2026-01-12 14:00:21 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 14:00:21 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [RequestId] = @p2;
2026-01-12 14:00:21 [INF] DataRequest "4095b3aa-5853-4ef4-9f9f-b99ae99ab020" marked as completed
2026-01-12 14:00:21 [INF] FHIR bundle generated for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198", Size: 1360 bytes
2026-01-12 14:00:21 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-e1949a05-fbb0-43ff-a437-8a8b16091198.json' ...
2026-01-12 14:00:21 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 953.4067ms
2026-01-12 14:00:21 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:00:21 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/e1949a05-fbb0-43ff-a437-8a8b16091198 - 200 1360 application/json 1115.6665ms
2026-01-12 14:00:22 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 14:00:22 [INF] CORS policy execution successful.
2026-01-12 14:00:22 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:22 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:00:22 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:00:22 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 51.8852ms
2026-01-12 14:00:23 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:23 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 149.8741ms
2026-01-12 14:00:46 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 14:00:46 [INF] CORS policy execution successful.
2026-01-12 14:00:46 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:46 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:00:47 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:00:47 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 40.8297ms
2026-01-12 14:00:47 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:00:47 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 101.3333ms
2026-01-12 14:00:52 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:00:52 [INF] CORS policy execution successful.
2026-01-12 14:00:52 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/e1949a05-fbb0-43ff-a437-8a8b16091198 - 204 null null 22.0606ms
2026-01-12 14:00:52 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:00:52 [INF] CORS policy execution successful.
2026-01-12 14:00:52 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 14:00:52 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:00:52 [INF] Executed DbCommand (13ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:00:52 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 14:00:52 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 90.1139ms
2026-01-12 14:00:52 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 14:00:52 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/e1949a05-fbb0-43ff-a437-8a8b16091198 - 200 null application/json; charset=utf-8 286.0867ms
2026-01-12 14:01:02 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 14:01:02 [INF] CORS policy execution successful.
2026-01-12 14:01:02 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:01:02 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:01:02 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:01:02 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 21.303ms
2026-01-12 14:01:02 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:01:02 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 98.5002ms
2026-01-12 14:01:05 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 14:01:05 [INF] CORS policy execution successful.
2026-01-12 14:01:05 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:01:05 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:01:05 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 14:01:05 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 28.5893ms
2026-01-12 14:01:05 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:01:05 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 171.7858ms
2026-01-12 14:01:24 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload - multipart/form-data; boundary=----WebKitFormBoundarysbFf0eiAR82Ba24O 982
2026-01-12 14:01:24 [INF] CORS policy execution successful.
2026-01-12 14:01:24 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:01:24 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 14:01:24 [INF] File upload started: sample_patient_data.csv, Size: 787
2026-01-12 14:01:24 [INF] File upload completed: "57f25e0c-2d8c-4ca2-9eca-4656ea3ea52b", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\57f25e0c-2d8c-4ca2-9eca-4656ea3ea52b_sample_patient_data.csv
2026-01-12 14:01:24 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 14:01:24 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 60.3447ms
2026-01-12 14:01:24 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:01:24 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload - 200 null application/json; charset=utf-8 176.5935ms
2026-01-12 14:01:42 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 14:01:42 [INF] CORS policy execution successful.
2026-01-12 14:01:42 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:01:42 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:01:42 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:01:42 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 40.3774ms
2026-01-12 14:01:42 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 14:01:42 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 167.1813ms
2026-01-12 14:01:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - null null
2026-01-12 14:01:44 [INF] CORS policy execution successful.
2026-01-12 14:01:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:01:44 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 14:01:44 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 14:01:44 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 35.0351ms
2026-01-12 14:01:44 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 14:01:44 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/4095b3aa-5853-4ef4-9f9f-b99ae99ab020 - 200 null application/json; charset=utf-8 150.0404ms
2026-01-12 14:02:01 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload - multipart/form-data; boundary=----WebKitFormBoundaryAWgYZydsXw063FZ8 982
2026-01-12 14:02:01 [INF] CORS policy execution successful.
2026-01-12 14:02:01 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:02:01 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 14:02:01 [INF] File upload started: sample_patient_data.csv, Size: 787
2026-01-12 14:02:01 [INF] File upload completed: "70b8f020-1061-4866-ae96-9a2d11b48415", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\70b8f020-1061-4866-ae96-9a2d11b48415_sample_patient_data.csv
2026-01-12 14:02:01 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 14:02:01 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 136.3443ms
2026-01-12 14:02:01 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:02:01 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload - 200 null application/json; charset=utf-8 274.2194ms
2026-01-12 14:07:07 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - null null
2026-01-12 14:07:07 [INF] CORS policy execution successful.
2026-01-12 14:07:07 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - 204 null null 29.7431ms
2026-01-12 14:07:07 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/auth/login - application/json 55
2026-01-12 14:07:07 [INF] CORS policy execution successful.
2026-01-12 14:07:07 [INF] Executing endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 14:07:07 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Application.DTOs.Auth.LoginRequestDto) on controller Kanini.Api.Controllers.AuthController (Kanini.Api).
2026-01-12 14:07:07 [INF] Login attempt started for email: sujinano777@gmail.com
2026-01-12 14:07:08 [INF] Executed DbCommand (19ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 150), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [Email] = @p2, [IsActive] = @p3, [LastLogin] = @p4, [OrganizationId] = @p5, [PasswordHash] = @p6, [Role] = @p7, [UpdatedBy] = @p8, [UpdatedOn] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2026-01-12 14:07:08 [INF] Login completed successfully for email: sujinano777@gmail.com, UserId: "c02c6b76-bad0-4f0f-6ad6-08de4f6c8c04"
2026-01-12 14:07:08 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Auth.LoginResponseDto'.
2026-01-12 14:07:08 [INF] Executed action Kanini.Api.Controllers.AuthController.Login (Kanini.Api) in 437.4583ms
2026-01-12 14:07:08 [INF] Executed endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 14:07:08 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/auth/login - 200 null application/json; charset=utf-8 626.6271ms
2026-01-12 14:07:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:07:08 [INF] CORS policy execution successful.
2026-01-12 14:07:08 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:07:08 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:07:08 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:07:08 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:07:08 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:07:08 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 85.6029ms
2026-01-12 14:07:08 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:07:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 195.4591ms
2026-01-12 14:07:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:07:08 [INF] CORS policy execution successful.
2026-01-12 14:07:08 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:07:08 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:07:08 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:07:08 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:07:08 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:07:08 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 157.3765ms
2026-01-12 14:07:08 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:07:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 297.1547ms
2026-01-12 14:07:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:07:10 [INF] CORS policy execution successful.
2026-01-12 14:07:10 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:07:10 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:07:10 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:07:10 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:07:10 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:07:10 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 28.2371ms
2026-01-12 14:07:10 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:07:10 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 111.0112ms
2026-01-12 14:07:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:07:10 [INF] CORS policy execution successful.
2026-01-12 14:07:10 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:07:10 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:07:10 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:07:10 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:07:10 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:07:10 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 66.9438ms
2026-01-12 14:07:10 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:07:10 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 269.4902ms
2026-01-12 14:12:19 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:12:19 [INF] CORS policy execution successful.
2026-01-12 14:12:19 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:12:19 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:12:19 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:12:19 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:12:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:12:19 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 60.9363ms
2026-01-12 14:12:19 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:12:19 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 101.0904ms
2026-01-12 14:12:19 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:12:19 [INF] CORS policy execution successful.
2026-01-12 14:12:19 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:12:19 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:12:19 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:12:19 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:12:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:12:19 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 44.874ms
2026-01-12 14:12:19 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:12:19 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 96.617ms
2026-01-12 14:15:48 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:15:48 [INF] CORS policy execution successful.
2026-01-12 14:15:48 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:15:48 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:15:48 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:15:48 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:15:48 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:15:48 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 224.5918ms
2026-01-12 14:15:48 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:15:48 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 307.7464ms
2026-01-12 14:15:48 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:15:48 [INF] CORS policy execution successful.
2026-01-12 14:15:48 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:15:48 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:15:48 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:15:48 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:15:48 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:15:48 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 46.0967ms
2026-01-12 14:15:48 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:15:48 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 112.6846ms
2026-01-12 14:17:53 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:17:53 [INF] CORS policy execution successful.
2026-01-12 14:17:53 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 18.3973ms
2026-01-12 14:17:53 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:17:53 [INF] CORS policy execution successful.
2026-01-12 14:17:53 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:17:53 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:17:53 [INF] Executed DbCommand (23ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:17:53 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:17:53 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 124.5711ms
2026-01-12 14:17:53 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:17:53 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 288.8849ms
2026-01-12 14:18:13 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload - multipart/form-data; boundary=----WebKitFormBoundaryjRVizcJV9leOKA1f 982
2026-01-12 14:18:13 [INF] CORS policy execution successful.
2026-01-12 14:18:13 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:18:13 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 14:18:13 [INF] File upload started: sample_patient_data.csv, Size: 787
2026-01-12 14:18:13 [INF] File upload completed: "c013d8f3-9e4a-417a-86a5-b5bb3936e0ac", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\c013d8f3-9e4a-417a-86a5-b5bb3936e0ac_sample_patient_data.csv
2026-01-12 14:18:13 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 14:18:13 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 32.637ms
2026-01-12 14:18:13 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 14:18:13 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload - 200 null application/json; charset=utf-8 86.0726ms
2026-01-12 14:18:14 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/c013d8f3-9e4a-417a-86a5-b5bb3936e0ac/detect-fields - null null
2026-01-12 14:18:15 [INF] CORS policy execution successful.
2026-01-12 14:18:15 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/c013d8f3-9e4a-417a-86a5-b5bb3936e0ac/detect-fields - 204 null null 19.4454ms
2026-01-12 14:18:15 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/c013d8f3-9e4a-417a-86a5-b5bb3936e0ac/detect-fields - null null
2026-01-12 14:18:15 [INF] CORS policy execution successful.
2026-01-12 14:18:15 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 14:18:15 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:18:15 [INF] Field mapping detected for FileId: "c013d8f3-9e4a-417a-86a5-b5bb3936e0ac", Detected: 0 fields
2026-01-12 14:18:15 [INF] Field mapping detected for FileId: "c013d8f3-9e4a-417a-86a5-b5bb3936e0ac", Detected: 10 fields
2026-01-12 14:18:15 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 14:18:15 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 39.5414ms
2026-01-12 14:18:15 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 14:18:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/c013d8f3-9e4a-417a-86a5-b5bb3936e0ac/detect-fields - 200 null application/json; charset=utf-8 122.8461ms
2026-01-12 14:18:40 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 14:18:40 [INF] CORS policy execution successful.
2026-01-12 14:18:40 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 23.1632ms
2026-01-12 14:18:40 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 869
2026-01-12 14:18:40 [INF] CORS policy execution successful.
2026-01-12 14:18:40 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 14:18:40 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:18:40 [INF] Starting conversion for FileId: "c013d8f3-9e4a-417a-86a5-b5bb3936e0ac"
2026-01-12 14:18:40 [INF] Executed DbCommand (9ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 14:18:40 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 14:18:40 [INF] Conversion job created - FileId: "c013d8f3-9e4a-417a-86a5-b5bb3936e0ac", JobId: "d966617e-77bc-40c5-9733-192d88ed694b"
2026-01-12 14:18:40 [INF] Background conversion task started for JobId: "d966617e-77bc-40c5-9733-192d88ed694b"
2026-01-12 14:18:40 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 14:18:40 [INF] Starting conversion process for JobId: "d966617e-77bc-40c5-9733-192d88ed694b"
2026-01-12 14:18:40 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 88.5998ms
2026-01-12 14:18:40 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 14:18:40 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:18:40 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 184.7105ms
2026-01-12 14:18:40 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\c013d8f3-9e4a-417a-86a5-b5bb3936e0ac_sample_patient_data.csv for JobId: "d966617e-77bc-40c5-9733-192d88ed694b"
2026-01-12 14:18:40 [INF] Parsed 1 patient and 5 observations for JobId: "d966617e-77bc-40c5-9733-192d88ed694b"
2026-01-12 14:18:40 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:40 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:40 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:18:40 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:40 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:18:40 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:40 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:40 [INF] Executed DbCommand (11ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 14:18:40 [INF] Conversion completed for JobId: "d966617e-77bc-40c5-9733-192d88ed694b", Patients: 1, Observations: 5
2026-01-12 14:18:42 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:18:42 [INF] CORS policy execution successful.
2026-01-12 14:18:42 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/d966617e-77bc-40c5-9733-192d88ed694b - 204 null null 21.842ms
2026-01-12 14:18:42 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:18:42 [INF] CORS policy execution successful.
2026-01-12 14:18:42 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 14:18:42 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:18:42 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:18:42 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 14:18:43 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 33.8415ms
2026-01-12 14:18:43 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 14:18:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/d966617e-77bc-40c5-9733-192d88ed694b - 200 null application/json; charset=utf-8 117.6082ms
2026-01-12 14:18:43 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:18:43 [INF] CORS policy execution successful.
2026-01-12 14:18:43 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/d966617e-77bc-40c5-9733-192d88ed694b - 204 null null 38.8202ms
2026-01-12 14:18:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:18:43 [INF] CORS policy execution successful.
2026-01-12 14:18:43 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 14:18:43 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:18:43 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:18:43 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 14:18:43 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 43.383ms
2026-01-12 14:18:43 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 14:18:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/d966617e-77bc-40c5-9733-192d88ed694b - 200 null application/json; charset=utf-8 125.2848ms
2026-01-12 14:18:45 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:18:45 [INF] CORS policy execution successful.
2026-01-12 14:18:45 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:18:45 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:18:45 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:18:45 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:45 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:45 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:18:45 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:45 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:18:45 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:45 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:18:45 [INF] Created FHIR Bundle with 1 Patient and 5 Observations
2026-01-12 14:18:46 [INF] FHIR bundle generated for JobId: "d966617e-77bc-40c5-9733-192d88ed694b", Size: 2919 bytes
2026-01-12 14:18:46 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-d966617e-77bc-40c5-9733-192d88ed694b.json' ...
2026-01-12 14:18:46 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 212.3241ms
2026-01-12 14:18:46 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:18:46 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/d966617e-77bc-40c5-9733-192d88ed694b - 200 2919 application/json 261.0637ms
2026-01-12 14:20:04 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:20:04 [INF] CORS policy execution successful.
2026-01-12 14:20:04 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 14.5405ms
2026-01-12 14:20:04 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:20:04 [INF] CORS policy execution successful.
2026-01-12 14:20:04 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:20:04 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:20:04 [INF] Executed DbCommand (24ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:20:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:20:04 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 78.9002ms
2026-01-12 14:20:04 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:20:04 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 129.2097ms
2026-01-12 14:20:07 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/d966617e-77bc-40c5-9733-192d88ed694b - null null
2026-01-12 14:20:07 [INF] CORS policy execution successful.
2026-01-12 14:20:07 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:07 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:20:07 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:20:07 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:07 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:07 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:20:07 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:07 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:20:07 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:07 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:07 [INF] Created FHIR Bundle with 1 Patient and 5 Observations
2026-01-12 14:20:07 [INF] FHIR bundle generated for JobId: "d966617e-77bc-40c5-9733-192d88ed694b", Size: 2919 bytes
2026-01-12 14:20:07 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-d966617e-77bc-40c5-9733-192d88ed694b.json' ...
2026-01-12 14:20:07 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 96.9706ms
2026-01-12 14:20:07 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:07 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/d966617e-77bc-40c5-9733-192d88ed694b - 200 2919 application/json 146.82ms
2026-01-12 14:20:09 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/e1949a05-fbb0-43ff-a437-8a8b16091198 - null null
2026-01-12 14:20:09 [INF] CORS policy execution successful.
2026-01-12 14:20:09 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:09 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:20:09 [INF] Executed DbCommand (6ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:20:09 [INF] Created FHIR Bundle with 1 Patient and 2 Observations
2026-01-12 14:20:09 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 14:20:09 [INF] FHIR bundle generated for JobId: "e1949a05-fbb0-43ff-a437-8a8b16091198", Size: 1360 bytes
2026-01-12 14:20:09 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-e1949a05-fbb0-43ff-a437-8a8b16091198.json' ...
2026-01-12 14:20:09 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 67.2875ms
2026-01-12 14:20:09 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:09 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/e1949a05-fbb0-43ff-a437-8a8b16091198 - 200 1360 application/json 115.697ms
2026-01-12 14:20:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/a1e7cd0f-30a8-4b63-9916-a9067e74e562 - null null
2026-01-12 14:20:10 [INF] CORS policy execution successful.
2026-01-12 14:20:10 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:10 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:20:10 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 14:20:10 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:10 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:10 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:20:10 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:10 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 14:20:10 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:10 [WRN] No LOINC mapping found for test name: '62701', using text fallback
2026-01-12 14:20:10 [INF] Created FHIR Bundle with 1 Patient and 5 Observations
2026-01-12 14:20:10 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 14:20:10 [INF] FHIR bundle generated for JobId: "a1e7cd0f-30a8-4b63-9916-a9067e74e562", Size: 2918 bytes
2026-01-12 14:20:10 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-a1e7cd0f-30a8-4b63-9916-a9067e74e562.json' ...
2026-01-12 14:20:10 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 66.9107ms
2026-01-12 14:20:10 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 14:20:10 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/a1e7cd0f-30a8-4b63-9916-a9067e74e562 - 200 2918 application/json 94.3807ms
2026-01-12 14:21:50 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:21:50 [INF] CORS policy execution successful.
2026-01-12 14:21:50 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 7.3475ms
2026-01-12 14:21:50 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:21:50 [INF] CORS policy execution successful.
2026-01-12 14:21:50 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:21:50 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:21:50 [INF] Executed DbCommand (45ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:21:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:21:50 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 57.0025ms
2026-01-12 14:21:50 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:21:50 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 73.7635ms
2026-01-12 14:22:04 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:22:04 [INF] CORS policy execution successful.
2026-01-12 14:22:05 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 1459.2945ms
2026-01-12 14:22:05 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:22:07 [INF] CORS policy execution successful.
2026-01-12 14:22:07 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:22:07 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:22:08 [INF] Executed DbCommand (4ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:22:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:22:08 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 105.0537ms
2026-01-12 14:22:08 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:22:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 499 null application/json; charset=utf-8 2734.2817ms
2026-01-12 14:22:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:22:09 [INF] CORS policy execution successful.
2026-01-12 14:22:09 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:22:09 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:22:09 [INF] Executed DbCommand (4ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:22:09 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:22:09 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 50.104ms
2026-01-12 14:22:09 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:22:09 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 466.3701ms
2026-01-12 14:23:23 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:23:23 [INF] CORS policy execution successful.
2026-01-12 14:23:23 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 18.4676ms
2026-01-12 14:23:23 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:23:23 [INF] CORS policy execution successful.
2026-01-12 14:23:23 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:23:23 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:23:23 [INF] Executed DbCommand (26ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:23:23 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:23:23 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 51.3215ms
2026-01-12 14:23:23 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:23:23 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 101.1276ms
2026-01-12 14:23:25 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:23:25 [INF] CORS policy execution successful.
2026-01-12 14:23:26 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:23:26 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:23:26 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:23:26 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:23:26 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:23:26 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 122.4677ms
2026-01-12 14:23:26 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:23:26 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 185.7485ms
2026-01-12 14:23:26 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:23:26 [INF] CORS policy execution successful.
2026-01-12 14:23:26 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:23:26 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:23:26 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:23:26 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:23:26 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:23:26 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 45.2485ms
2026-01-12 14:23:26 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:23:26 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 85.2531ms
2026-01-12 14:24:02 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:24:02 [INF] CORS policy execution successful.
2026-01-12 14:24:03 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:24:03 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:24:03 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:24:03 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:24:03 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:24:03 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 75.4448ms
2026-01-12 14:24:03 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:24:03 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 624.9423ms
2026-01-12 14:24:03 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:24:03 [INF] CORS policy execution successful.
2026-01-12 14:24:03 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:24:03 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:24:03 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:24:03 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:24:03 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:24:03 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 47.1094ms
2026-01-12 14:24:03 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:24:03 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 89.1742ms
2026-01-12 14:25:21 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - null null
2026-01-12 14:25:21 [INF] CORS policy execution successful.
2026-01-12 14:25:21 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/history - 204 null null 12.7531ms
2026-01-12 14:25:21 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/history - null null
2026-01-12 14:25:21 [INF] CORS policy execution successful.
2026-01-12 14:25:21 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:25:21 [INF] Route matched with {action = "GetConversionHistory", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionHistory() on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 14:25:21 [INF] Executed DbCommand (39ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @userId OR ([c].[RequestId] IS NOT NULL AND EXISTS (
    SELECT 1
    FROM [DataRequests] AS [d]
    WHERE [d].[RequestId] = [c].[RequestId] AND [d].[RequestingUserId] = @userId))
ORDER BY [c].[CreatedOn] DESC
2026-01-12 14:25:21 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 14:25:21 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api) in 75.4201ms
2026-01-12 14:25:21 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionHistory (Kanini.Api)'
2026-01-12 14:25:21 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/history - 200 null application/json; charset=utf-8 171.4208ms
2026-01-12 14:30:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/overview - null null
2026-01-12 14:30:29 [INF] CORS policy execution successful.
2026-01-12 14:30:29 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:30:29 [INF] Route matched with {action = "GetSystemOverview", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSystemOverview() on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:30:29 [INF] Analytics request started for type: SystemOverview
2026-01-12 14:30:29 [INF] Analytics request completed for type: SystemOverview, Records: 1
2026-01-12 14:30:29 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.SystemOverviewDto'.
2026-01-12 14:30:29 [INF] Executed action Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api) in 122.1489ms
2026-01-12 14:30:29 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetSystemOverview (Kanini.Api)'
2026-01-12 14:30:29 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/overview - 200 null application/json; charset=utf-8 191.7121ms
2026-01-12 14:30:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - null null
2026-01-12 14:30:29 [INF] CORS policy execution successful.
2026-01-12 14:30:29 [INF] Executing endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:30:29 [INF] Route matched with {action = "GetConversionStatistics", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatistics(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Kanini.Api.Controllers.AdminController (Kanini.Api).
2026-01-12 14:30:30 [INF] Analytics request started for type: ConversionStatistics
2026-01-12 14:30:30 [INF] Analytics request completed for type: ConversionStatistics, Records: 1
2026-01-12 14:30:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Analytics.ConversionStatisticsDto'.
2026-01-12 14:30:30 [INF] Executed action Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api) in 57.7702ms
2026-01-12 14:30:30 [INF] Executed endpoint 'Kanini.Api.Controllers.AdminController.GetConversionStatistics (Kanini.Api)'
2026-01-12 14:30:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/admin/conversions/statistics - 200 null application/json; charset=utf-8 116.7722ms
2026-01-12 15:00:38 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - null null
2026-01-12 15:00:38 [INF] CORS policy execution successful.
2026-01-12 15:00:38 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - 204 null null 28.728ms
2026-01-12 15:00:38 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/auth/login - application/json 73
2026-01-12 15:00:38 [INF] CORS policy execution successful.
2026-01-12 15:00:38 [INF] Executing endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 15:00:38 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Application.DTOs.Auth.LoginRequestDto) on controller Kanini.Api.Controllers.AuthController (Kanini.Api).
2026-01-12 15:00:38 [INF] Login attempt started for email: sujithkumarsenthilkumar777@gmail.com
2026-01-12 15:00:38 [INF] Executed DbCommand (15ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 150), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [Email] = @p2, [IsActive] = @p3, [LastLogin] = @p4, [OrganizationId] = @p5, [PasswordHash] = @p6, [Role] = @p7, [UpdatedBy] = @p8, [UpdatedOn] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2026-01-12 15:00:38 [INF] Login completed successfully for email: sujithkumarsenthilkumar777@gmail.com, UserId: "b0dc6191-7157-4876-56ef-08de4d169e36"
2026-01-12 15:00:38 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Auth.LoginResponseDto'.
2026-01-12 15:00:38 [INF] Executed action Kanini.Api.Controllers.AuthController.Login (Kanini.Api) in 115.5845ms
2026-01-12 15:00:38 [INF] Executed endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 15:00:38 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/auth/login - 200 null application/json; charset=utf-8 198.0142ms
2026-01-12 15:00:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 15:00:44 [INF] CORS policy execution successful.
2026-01-12 15:00:44 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 15:00:44 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 15:00:44 [INF] Getting all patients
2026-01-12 15:00:44 [INF] Getting all patients
2026-01-12 15:00:44 [INF] Retrieved 1 patients
2026-01-12 15:00:44 [INF] Retrieved 1 patients
2026-01-12 15:00:44 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 15:00:44 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 72.3004ms
2026-01-12 15:00:44 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 15:00:44 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 125.5183ms
2026-01-12 17:29:01 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - null null
2026-01-12 17:29:01 [INF] CORS policy execution successful.
2026-01-12 17:29:01 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/auth/login - 204 null null 35.7231ms
2026-01-12 17:29:01 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/auth/login - application/json 67
2026-01-12 17:29:01 [INF] CORS policy execution successful.
2026-01-12 17:29:01 [INF] Executing endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 17:29:01 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Application.DTOs.Auth.LoginRequestDto) on controller Kanini.Api.Controllers.AuthController (Kanini.Api).
2026-01-12 17:29:02 [INF] Login attempt started for email: sujithkumar.kanini@outlook.com
2026-01-12 17:29:02 [INF] Executed DbCommand (25ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 150), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (Size = 256), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [Email] = @p2, [IsActive] = @p3, [LastLogin] = @p4, [OrganizationId] = @p5, [PasswordHash] = @p6, [Role] = @p7, [UpdatedBy] = @p8, [UpdatedOn] = @p9
OUTPUT 1
WHERE [UserId] = @p10;
2026-01-12 17:29:02 [INF] Login completed successfully for email: sujithkumar.kanini@outlook.com, UserId: "908cc836-0cf6-4d22-b38f-08de4d1e4daf"
2026-01-12 17:29:02 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Auth.LoginResponseDto'.
2026-01-12 17:29:02 [INF] Executed action Kanini.Api.Controllers.AuthController.Login (Kanini.Api) in 224.3921ms
2026-01-12 17:29:02 [INF] Executed endpoint 'Kanini.Api.Controllers.AuthController.Login (Kanini.Api)'
2026-01-12 17:29:02 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/auth/login - 200 null application/json; charset=utf-8 405.6517ms
2026-01-12 17:29:04 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:29:04 [INF] CORS policy execution successful.
2026-01-12 17:29:04 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:04 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:04 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:04 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 51.5154ms
2026-01-12 17:29:04 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:04 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 208.9872ms
2026-01-12 17:29:05 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 17:29:05 [INF] CORS policy execution successful.
2026-01-12 17:29:05 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 17:29:05 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 17:29:05 [INF] Getting all patients
2026-01-12 17:29:05 [INF] Getting all patients
2026-01-12 17:29:05 [INF] Retrieved 1 patients
2026-01-12 17:29:05 [INF] Retrieved 1 patients
2026-01-12 17:29:05 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:05 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 58.0086ms
2026-01-12 17:29:05 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 17:29:05 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 132.395ms
2026-01-12 17:29:14 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 17:29:14 [INF] CORS policy execution successful.
2026-01-12 17:29:14 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 14.6669ms
2026-01-12 17:29:14 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 142
2026-01-12 17:29:14 [INF] CORS policy execution successful.
2026-01-12 17:29:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 17:29:14 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:14 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 17:29:14 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (Size = 1000), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DataRequests] ([RequestId], [ApprovedAt], [ApprovedByUserId], [CreatedBy], [CreatedOn], [ExpiresAt], [GlobalPatientId], [Notes], [OrganizationId], [OrganizationId1], [RequestingOrganizationId], [RequestingUserId], [SourceOrganizationId], [Status], [UpdatedBy], [UpdatedOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 17:29:14 [INF] Data request created successfully with ID: "79f873a5-6511-488b-ade7-190d2823a6ad"
2026-01-12 17:29:14 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:29:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 110.8681ms
2026-01-12 17:29:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 17:29:14 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 200 null application/json; charset=utf-8 176.5425ms
2026-01-12 17:29:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:29:14 [INF] CORS policy execution successful.
2026-01-12 17:29:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:14 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 37.5598ms
2026-01-12 17:29:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 122.7811ms
2026-01-12 17:29:28 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:29:28 [INF] CORS policy execution successful.
2026-01-12 17:29:28 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:28 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:28 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:28 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 50.8771ms
2026-01-12 17:29:28 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:28 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 95.9862ms
2026-01-12 17:29:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:29:29 [INF] CORS policy execution successful.
2026-01-12 17:29:29 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:29 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:29 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:29 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 50.6544ms
2026-01-12 17:29:29 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:29 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 105.8759ms
2026-01-12 17:29:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:29:30 [INF] CORS policy execution successful.
2026-01-12 17:29:30 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:30 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:30 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 34.3547ms
2026-01-12 17:29:30 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 100.2789ms
2026-01-12 17:29:32 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - null null
2026-01-12 17:29:32 [INF] CORS policy execution successful.
2026-01-12 17:29:32 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:29:32 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:32 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:29:32 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 32.1697ms
2026-01-12 17:29:32 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:29:32 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 90.2866ms
2026-01-12 17:29:35 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad/approve - null null
2026-01-12 17:29:35 [INF] CORS policy execution successful.
2026-01-12 17:29:35 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad/approve - 204 null null 17.701ms
2026-01-12 17:29:35 [INF] Request starting HTTP/1.1 PUT http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad/approve - application/json 56
2026-01-12 17:29:35 [INF] CORS policy execution successful.
2026-01-12 17:29:35 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 17:29:35 [INF] Route matched with {action = "ApproveRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveRequest(System.Guid, Kanini.Application.DTOs.DataRequests.ApproveDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:35 [INF] Data request approval started for RequestId: "79f873a5-6511-488b-ade7-190d2823a6ad"
2026-01-12 17:29:35 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:29:35 [INF] Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [ApprovedAt] = @p0, [ApprovedByUserId] = @p1, [Notes] = @p2, [Status] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RequestId] = @p6;
2026-01-12 17:29:35 [INF] Data request approved successfully for RequestId: "79f873a5-6511-488b-ade7-190d2823a6ad"
2026-01-12 17:29:35 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:29:35 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api) in 86.101ms
2026-01-12 17:29:35 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 17:29:35 [INF] Request finished HTTP/1.1 PUT http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad/approve - 200 null application/json; charset=utf-8 182.8009ms
2026-01-12 17:29:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:29:44 [INF] CORS policy execution successful.
2026-01-12 17:29:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:44 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:29:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:29:45 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 27.0434ms
2026-01-12 17:29:45 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:29:45 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 84.5648ms
2026-01-12 17:29:54 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - multipart/form-data; boundary=----WebKitFormBoundaryUOjhX2oMWqsECAvW 1174
2026-01-12 17:29:54 [INF] CORS policy execution successful.
2026-01-12 17:29:54 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:29:54 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:29:54 [INF] File upload started: sample_patient_data.json, Size: 970
2026-01-12 17:29:54 [INF] File upload completed: "e15c9e91-1333-4895-a8dc-32967414d48a", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\e15c9e91-1333-4895-a8dc-32967414d48a_sample_patient_data.json
2026-01-12 17:29:54 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:29:54 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 68.7625ms
2026-01-12 17:29:54 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:29:54 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 127.1346ms
2026-01-12 17:29:57 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:29:57 [INF] CORS policy execution successful.
2026-01-12 17:29:57 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 204 null null 14.1779ms
2026-01-12 17:29:57 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:29:57 [INF] CORS policy execution successful.
2026-01-12 17:29:57 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:29:57 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:29:57 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:29:57 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:29:57 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:29:57 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 45.2077ms
2026-01-12 17:29:57 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:29:57 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 122.3825ms
2026-01-12 17:30:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:30:14 [INF] CORS policy execution successful.
2026-01-12 17:30:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:30:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:30:14 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:30:15 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 30.3678ms
2026-01-12 17:30:15 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:30:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 101.254ms
2026-01-12 17:30:19 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:19 [INF] CORS policy execution successful.
2026-01-12 17:30:19 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 204 null null 17.101ms
2026-01-12 17:30:19 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:19 [INF] CORS policy execution successful.
2026-01-12 17:30:19 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:19 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:30:19 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:30:19 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:30:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:30:19 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 37.0664ms
2026-01-12 17:30:19 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:19 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 113.5965ms
2026-01-12 17:30:21 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:21 [INF] CORS policy execution successful.
2026-01-12 17:30:21 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:21 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:30:21 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:30:21 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:30:21 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:30:21 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 36.1548ms
2026-01-12 17:30:21 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:21 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 92.7587ms
2026-01-12 17:30:23 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:23 [INF] CORS policy execution successful.
2026-01-12 17:30:23 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:23 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:30:23 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:30:23 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:30:23 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:30:23 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 35.3363ms
2026-01-12 17:30:23 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:23 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 100.432ms
2026-01-12 17:30:25 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:25 [INF] CORS policy execution successful.
2026-01-12 17:30:25 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 204 null null 14.7395ms
2026-01-12 17:30:25 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:30:25 [INF] CORS policy execution successful.
2026-01-12 17:30:25 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:25 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:30:25 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:30:25 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:30:25 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:30:25 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 25.2794ms
2026-01-12 17:30:25 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:30:25 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 95.2519ms
2026-01-12 17:30:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:30:44 [INF] CORS policy execution successful.
2026-01-12 17:30:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:30:44 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:30:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:30:45 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 28.0026ms
2026-01-12 17:30:45 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:30:45 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 77.208ms
2026-01-12 17:31:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:31:14 [INF] CORS policy execution successful.
2026-01-12 17:31:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:31:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:31:14 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:31:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 9.3821ms
2026-01-12 17:31:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:31:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 46.3624ms
2026-01-12 17:31:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:31:44 [INF] CORS policy execution successful.
2026-01-12 17:31:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:31:44 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:31:44 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:31:44 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 29.1505ms
2026-01-12 17:31:45 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:31:45 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 59.8553ms
2026-01-12 17:32:03 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:32:03 [INF] CORS policy execution successful.
2026-01-12 17:32:03 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 204 null null 239.2323ms
2026-01-12 17:32:03 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - null null
2026-01-12 17:32:04 [INF] CORS policy execution successful.
2026-01-12 17:32:04 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:32:04 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:32:04 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 0 fields
2026-01-12 17:32:04 [INF] Field mapping detected for FileId: "e15c9e91-1333-4895-a8dc-32967414d48a", Detected: 3 fields
2026-01-12 17:32:04 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:32:04 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 46.3228ms
2026-01-12 17:32:04 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:32:04 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/e15c9e91-1333-4895-a8dc-32967414d48a/detect-fields - 200 null application/json; charset=utf-8 855.0584ms
2026-01-12 17:32:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:32:14 [INF] CORS policy execution successful.
2026-01-12 17:32:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:32:14 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:32:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.9279ms
2026-01-12 17:32:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 50.821ms
2026-01-12 17:32:25 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:32:25 [INF] CORS policy execution successful.
2026-01-12 17:32:25 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:25 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:32:26 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:32:26 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 17.9053ms
2026-01-12 17:32:26 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:26 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 99.2685ms
2026-01-12 17:32:27 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:32:27 [INF] CORS policy execution successful.
2026-01-12 17:32:27 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:27 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:32:27 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:32:27 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.9597ms
2026-01-12 17:32:27 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:32:27 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 74.5009ms
2026-01-12 17:32:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - null null
2026-01-12 17:32:29 [INF] CORS policy execution successful.
2026-01-12 17:32:29 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:32:29 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:32:29 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:32:29 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 47.9539ms
2026-01-12 17:32:29 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:32:29 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 170.5454ms
2026-01-12 17:32:35 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - multipart/form-data; boundary=----WebKitFormBoundary4oQ3Zt8qFXrEpxpf 6492
2026-01-12 17:32:35 [INF] CORS policy execution successful.
2026-01-12 17:32:35 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:32:35 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:32:35 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 17:32:35 [INF] File upload completed: "bc5d75c3-5488-4085-891c-4f83b0221e32", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\bc5d75c3-5488-4085-891c-4f83b0221e32_sample_patient_data.xml
2026-01-12 17:32:35 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:32:35 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 62.9423ms
2026-01-12 17:32:35 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:32:35 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 120.3ms
2026-01-12 17:33:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:33:14 [INF] CORS policy execution successful.
2026-01-12 17:33:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:33:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:33:15 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:33:15 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 34.8415ms
2026-01-12 17:33:15 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:33:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 96.3919ms
2026-01-12 17:34:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:34:14 [INF] CORS policy execution successful.
2026-01-12 17:34:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:34:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:34:15 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:34:15 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 24.7999ms
2026-01-12 17:34:15 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:34:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 80.1676ms
2026-01-12 17:35:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:35:14 [INF] CORS policy execution successful.
2026-01-12 17:35:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:35:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:35:15 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:35:15 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 29.4126ms
2026-01-12 17:35:15 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:35:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 87.6747ms
2026-01-12 17:36:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:36:14 [INF] CORS policy execution successful.
2026-01-12 17:36:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:36:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:36:15 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:36:15 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 29.0653ms
2026-01-12 17:36:15 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:36:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 79.3493ms
2026-01-12 17:37:14 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:37:14 [INF] CORS policy execution successful.
2026-01-12 17:37:14 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:37:14 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:37:14 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:37:14 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 26.2392ms
2026-01-12 17:37:14 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:37:15 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 45.458ms
2026-01-12 17:38:04 [INF] Application is shutting down...
2026-01-12 17:39:02 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 17:39:02 [INF] Now listening on: http://localhost:5201
2026-01-12 17:39:02 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 17:39:02 [INF] Hosting environment: Development
2026-01-12 17:39:02 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 17:39:08 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bc5d75c3-5488-4085-891c-4f83b0221e32/detect-fields - null null
2026-01-12 17:39:08 [WRN] Failed to determine the https port for redirect.
2026-01-12 17:39:08 [INF] CORS policy execution successful.
2026-01-12 17:39:08 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bc5d75c3-5488-4085-891c-4f83b0221e32/detect-fields - 204 null null 250.0448ms
2026-01-12 17:39:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/bc5d75c3-5488-4085-891c-4f83b0221e32/detect-fields - null null
2026-01-12 17:39:08 [INF] CORS policy execution successful.
2026-01-12 17:39:09 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:39:09 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:39:10 [INF] Field mapping detected for FileId: "bc5d75c3-5488-4085-891c-4f83b0221e32", Detected: 0 fields
2026-01-12 17:39:10 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-12 17:39:11 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 1649.332ms
2026-01-12 17:39:11 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:39:11 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/bc5d75c3-5488-4085-891c-4f83b0221e32/detect-fields - 400 null application/json; charset=utf-8 2240.4619ms
2026-01-12 17:39:20 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:39:20 [INF] CORS policy execution successful.
2026-01-12 17:39:21 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:39:21 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:39:22 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:39:22 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 1058.5111ms
2026-01-12 17:39:22 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:39:22 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 1228.5306ms
2026-01-12 17:39:22 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:39:22 [INF] CORS policy execution successful.
2026-01-12 17:39:22 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:39:22 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:39:22 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:39:22 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 123.0805ms
2026-01-12 17:39:22 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:39:22 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 187.554ms
2026-01-12 17:39:24 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - null null
2026-01-12 17:39:24 [INF] CORS policy execution successful.
2026-01-12 17:39:24 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:39:24 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:39:24 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:39:24 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 82.2406ms
2026-01-12 17:39:24 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:39:24 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 240.843ms
2026-01-12 17:39:30 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - multipart/form-data; boundary=----WebKitFormBoundary9WdZkzBLGxdmqBGj 1174
2026-01-12 17:39:30 [INF] CORS policy execution successful.
2026-01-12 17:39:30 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:39:30 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:39:30 [INF] File upload started: sample_patient_data.json, Size: 970
2026-01-12 17:39:30 [INF] File upload completed: "500395b5-f4ed-4890-956f-532d8a1260aa", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\500395b5-f4ed-4890-956f-532d8a1260aa_sample_patient_data.json
2026-01-12 17:39:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:39:30 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 229.5853ms
2026-01-12 17:39:30 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:39:30 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 616.7186ms
2026-01-12 17:39:33 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/500395b5-f4ed-4890-956f-532d8a1260aa/detect-fields - null null
2026-01-12 17:39:33 [INF] CORS policy execution successful.
2026-01-12 17:39:33 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/500395b5-f4ed-4890-956f-532d8a1260aa/detect-fields - 204 null null 11.7854ms
2026-01-12 17:39:33 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/500395b5-f4ed-4890-956f-532d8a1260aa/detect-fields - null null
2026-01-12 17:39:33 [INF] CORS policy execution successful.
2026-01-12 17:39:33 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:39:33 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:39:33 [INF] Field mapping detected for FileId: "500395b5-f4ed-4890-956f-532d8a1260aa", Detected: 0 fields
2026-01-12 17:39:33 [INF] Field mapping detected for FileId: "500395b5-f4ed-4890-956f-532d8a1260aa", Detected: 12 fields
2026-01-12 17:39:33 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:39:34 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 137.5073ms
2026-01-12 17:39:34 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:39:34 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/500395b5-f4ed-4890-956f-532d8a1260aa/detect-fields - 200 null application/json; charset=utf-8 348.6208ms
2026-01-12 17:40:22 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 17:40:22 [INF] CORS policy execution successful.
2026-01-12 17:40:22 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 31.5442ms
2026-01-12 17:40:22 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 1148
2026-01-12 17:40:22 [INF] CORS policy execution successful.
2026-01-12 17:40:22 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 17:40:22 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:40:22 [INF] Starting conversion for FileId: "500395b5-f4ed-4890-956f-532d8a1260aa"
2026-01-12 17:40:24 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 17:40:24 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 17:40:26 [INF] Executed DbCommand (23ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 17:40:27 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 17:40:27 [INF] Background conversion task started for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702"
2026-01-12 17:40:27 [INF] Conversion job created - FileId: "500395b5-f4ed-4890-956f-532d8a1260aa", JobId: "75a250b2-1e52-4522-a7bc-b05f76872702"
2026-01-12 17:40:27 [INF] Starting conversion process for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702"
2026-01-12 17:40:27 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:40:27 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 4748.7749ms
2026-01-12 17:40:27 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 17:40:27 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 4914.3847ms
2026-01-12 17:40:27 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:40:27 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\500395b5-f4ed-4890-956f-532d8a1260aa_sample_patient_data.json for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702"
2026-01-12 17:40:27 [INF] Parsed 1 patient and 2 observations for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702"
2026-01-12 17:40:27 [WRN] No LOINC mapping found for test name: 'Blood Pressure', using text fallback
2026-01-12 17:40:27 [INF] Executed DbCommand (11ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 17:40:28 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:40:28 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [RequestId] = @p3;
2026-01-12 17:40:28 [INF] DataRequest "79f873a5-6511-488b-ade7-190d2823a6ad" marked as DataReady
2026-01-12 17:40:28 [INF] Conversion completed for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702", Patients: 1, Observations: 2
2026-01-12 17:40:29 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/75a250b2-1e52-4522-a7bc-b05f76872702 - null null
2026-01-12 17:40:29 [INF] CORS policy execution successful.
2026-01-12 17:40:29 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/75a250b2-1e52-4522-a7bc-b05f76872702 - 204 null null 129.1617ms
2026-01-12 17:40:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/75a250b2-1e52-4522-a7bc-b05f76872702 - null null
2026-01-12 17:40:29 [INF] CORS policy execution successful.
2026-01-12 17:40:29 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 17:40:29 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:40:30 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:40:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:40:30 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 348.6426ms
2026-01-12 17:40:30 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 17:40:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/75a250b2-1e52-4522-a7bc-b05f76872702 - 200 null application/json; charset=utf-8 591.4562ms
2026-01-12 17:40:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/75a250b2-1e52-4522-a7bc-b05f76872702 - null null
2026-01-12 17:40:30 [INF] CORS policy execution successful.
2026-01-12 17:40:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/75a250b2-1e52-4522-a7bc-b05f76872702 - 204 null null 49.5442ms
2026-01-12 17:40:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/75a250b2-1e52-4522-a7bc-b05f76872702 - null null
2026-01-12 17:40:30 [INF] CORS policy execution successful.
2026-01-12 17:40:30 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 17:40:30 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:40:30 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:40:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 17:40:30 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 93.1604ms
2026-01-12 17:40:30 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 17:40:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/75a250b2-1e52-4522-a7bc-b05f76872702 - 200 null application/json; charset=utf-8 236.5077ms
2026-01-12 17:40:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:40:40 [INF] CORS policy execution successful.
2026-01-12 17:40:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:40 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:40:40 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:40:40 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 53.7697ms
2026-01-12 17:40:40 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 120.0547ms
2026-01-12 17:40:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:40:40 [INF] CORS policy execution successful.
2026-01-12 17:40:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:40 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:40:40 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:40:40 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 16.7332ms
2026-01-12 17:40:40 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 75.7336ms
2026-01-12 17:40:43 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/79f873a5-6511-488b-ade7-190d2823a6ad - null null
2026-01-12 17:40:43 [INF] CORS policy execution successful.
2026-01-12 17:40:43 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/79f873a5-6511-488b-ade7-190d2823a6ad - 204 null null 52.3747ms
2026-01-12 17:40:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/by-request/79f873a5-6511-488b-ade7-190d2823a6ad - null null
2026-01-12 17:40:43 [INF] CORS policy execution successful.
2026-01-12 17:40:43 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 17:40:43 [INF] Route matched with {action = "GetConversionByRequestId", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionByRequestId(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:40:43 [INF] Executed DbCommand (18ms) [Parameters=[@requestId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[RequestId] = @requestId
2026-01-12 17:40:43 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:40:43 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api) in 296.7186ms
2026-01-12 17:40:43 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 17:40:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/by-request/79f873a5-6511-488b-ade7-190d2823a6ad - 200 null application/json; charset=utf-8 577.3757ms
2026-01-12 17:40:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/75a250b2-1e52-4522-a7bc-b05f76872702 - null null
2026-01-12 17:40:43 [INF] CORS policy execution successful.
2026-01-12 17:40:43 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 17:40:43 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:40:43 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:40:43 [WRN] No LOINC mapping found for test name: 'Blood Pressure', using text fallback
2026-01-12 17:40:43 [INF] Created FHIR Bundle with 1 Patient and 2 Observations
2026-01-12 17:40:44 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:40:44 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [RequestId] = @p2;
2026-01-12 17:40:44 [INF] DataRequest "79f873a5-6511-488b-ade7-190d2823a6ad" marked as completed
2026-01-12 17:40:44 [INF] FHIR bundle generated for JobId: "75a250b2-1e52-4522-a7bc-b05f76872702", Size: 1307 bytes
2026-01-12 17:40:44 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-75a250b2-1e52-4522-a7bc-b05f76872702.json' ...
2026-01-12 17:40:44 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 635.5038ms
2026-01-12 17:40:44 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 17:40:44 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/75a250b2-1e52-4522-a7bc-b05f76872702 - 200 1307 application/json 753.0319ms
2026-01-12 17:40:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:40:44 [INF] CORS policy execution successful.
2026-01-12 17:40:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:44 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:40:44 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:40:44 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 13.3006ms
2026-01-12 17:40:44 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:40:44 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 129.3392ms
2026-01-12 17:41:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:41:10 [INF] CORS policy execution successful.
2026-01-12 17:41:10 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:41:10 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:41:10 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:41:11 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 30.9369ms
2026-01-12 17:41:11 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:41:11 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 110.9453ms
2026-01-12 17:41:42 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:41:42 [INF] CORS policy execution successful.
2026-01-12 17:41:42 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:41:42 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:41:42 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:41:42 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 43.6956ms
2026-01-12 17:41:42 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:41:42 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 95.2285ms
2026-01-12 17:42:06 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 17:42:06 [INF] CORS policy execution successful.
2026-01-12 17:42:06 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 17:42:06 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 17:42:06 [INF] Getting all patients
2026-01-12 17:42:06 [INF] Getting all patients
2026-01-12 17:42:06 [INF] Retrieved 1 patients
2026-01-12 17:42:06 [INF] Retrieved 1 patients
2026-01-12 17:42:06 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:42:06 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 174.3704ms
2026-01-12 17:42:06 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 17:42:06 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 276.4452ms
2026-01-12 17:42:10 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 17:42:10 [INF] CORS policy execution successful.
2026-01-12 17:42:10 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 22.2753ms
2026-01-12 17:42:10 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 134
2026-01-12 17:42:10 [INF] CORS policy execution successful.
2026-01-12 17:42:10 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 17:42:10 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:10 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 17:42:10 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (Size = 1000), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DataRequests] ([RequestId], [ApprovedAt], [ApprovedByUserId], [CreatedBy], [CreatedOn], [ExpiresAt], [GlobalPatientId], [Notes], [OrganizationId], [OrganizationId1], [RequestingOrganizationId], [RequestingUserId], [SourceOrganizationId], [Status], [UpdatedBy], [UpdatedOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 17:42:10 [INF] Data request created successfully with ID: "5fac915c-cd1c-432d-8819-343c199a2423"
2026-01-12 17:42:10 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:42:10 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 179.7954ms
2026-01-12 17:42:10 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 17:42:10 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 200 null application/json; charset=utf-8 285.6199ms
2026-01-12 17:42:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:42:10 [INF] CORS policy execution successful.
2026-01-12 17:42:10 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:10 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:10 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:42:11 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 459.3711ms
2026-01-12 17:42:11 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:11 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 745.894ms
2026-01-12 17:42:16 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:42:16 [INF] CORS policy execution successful.
2026-01-12 17:42:16 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:16 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:16 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:42:16 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 19.1678ms
2026-01-12 17:42:16 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:16 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 169.5858ms
2026-01-12 17:42:17 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:42:17 [INF] CORS policy execution successful.
2026-01-12 17:42:17 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:17 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:17 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:42:17 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 25.6531ms
2026-01-12 17:42:17 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:17 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 103.2144ms
2026-01-12 17:42:19 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:42:19 [INF] CORS policy execution successful.
2026-01-12 17:42:19 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:42:19 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:42:19 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 15.8616ms
2026-01-12 17:42:19 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:42:19 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 88.0018ms
2026-01-12 17:42:20 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423/approve - null null
2026-01-12 17:42:20 [INF] CORS policy execution successful.
2026-01-12 17:42:20 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423/approve - 204 null null 10.3063ms
2026-01-12 17:42:20 [INF] Request starting HTTP/1.1 PUT http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423/approve - application/json 56
2026-01-12 17:42:20 [INF] CORS policy execution successful.
2026-01-12 17:42:20 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 17:42:21 [INF] Route matched with {action = "ApproveRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveRequest(System.Guid, Kanini.Application.DTOs.DataRequests.ApproveDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:21 [INF] Data request approval started for RequestId: "5fac915c-cd1c-432d-8819-343c199a2423"
2026-01-12 17:42:21 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:42:21 [INF] Executed DbCommand (13ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [ApprovedAt] = @p0, [ApprovedByUserId] = @p1, [Notes] = @p2, [Status] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RequestId] = @p6;
2026-01-12 17:42:21 [INF] Data request approved successfully for RequestId: "5fac915c-cd1c-432d-8819-343c199a2423"
2026-01-12 17:42:21 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:42:21 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api) in 161.7564ms
2026-01-12 17:42:21 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 17:42:21 [INF] Request finished HTTP/1.1 PUT http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423/approve - 200 null application/json; charset=utf-8 401.8709ms
2026-01-12 17:42:29 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - multipart/form-data; boundary=----WebKitFormBoundaryBmJWBc5T9kxWY0F2 6492
2026-01-12 17:42:29 [INF] CORS policy execution successful.
2026-01-12 17:42:29 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:42:29 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:42:29 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 17:42:29 [INF] File upload completed: "bf442bc3-c2b3-4173-a32d-abfc719bf249", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\bf442bc3-c2b3-4173-a32d-abfc719bf249_sample_patient_data.xml
2026-01-12 17:42:29 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:42:29 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 58.6368ms
2026-01-12 17:42:29 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:42:29 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 138.5623ms
2026-01-12 17:42:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - null null
2026-01-12 17:42:30 [INF] CORS policy execution successful.
2026-01-12 17:42:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - 204 null null 12.5954ms
2026-01-12 17:42:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - null null
2026-01-12 17:42:31 [INF] CORS policy execution successful.
2026-01-12 17:42:31 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:42:31 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:42:31 [INF] Field mapping detected for FileId: "bf442bc3-c2b3-4173-a32d-abfc719bf249", Detected: 0 fields
2026-01-12 17:42:31 [INF] Field mapping detected for FileId: "bf442bc3-c2b3-4173-a32d-abfc719bf249", Detected: 1 fields
2026-01-12 17:42:31 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:42:31 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 28.9658ms
2026-01-12 17:42:31 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:42:31 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - 200 null application/json; charset=utf-8 142.8949ms
2026-01-12 17:42:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:42:40 [INF] CORS policy execution successful.
2026-01-12 17:42:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:40 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:42:40 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:42:40 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 9.5709ms
2026-01-12 17:42:41 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:42:41 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 70.2464ms
2026-01-12 17:43:10 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:43:10 [INF] CORS policy execution successful.
2026-01-12 17:43:10 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:43:10 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:43:10 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:43:10 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 45.787ms
2026-01-12 17:43:11 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:43:11 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 66.4978ms
2026-01-12 17:43:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:43:40 [INF] CORS policy execution successful.
2026-01-12 17:43:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:43:40 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:43:40 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:43:40 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 13.1377ms
2026-01-12 17:43:40 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:43:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 46.857ms
2026-01-12 17:43:45 [INF] Application is shutting down...
2026-01-12 17:44:54 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 17:44:54 [INF] Now listening on: http://localhost:5201
2026-01-12 17:44:54 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 17:44:54 [INF] Hosting environment: Development
2026-01-12 17:44:54 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 17:44:59 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:44:59 [WRN] Failed to determine the https port for redirect.
2026-01-12 17:44:59 [INF] CORS policy execution successful.
2026-01-12 17:45:00 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:45:00 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:45:02 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:45:02 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 2033.7695ms
2026-01-12 17:45:02 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:45:02 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 2850.5795ms
2026-01-12 17:45:08 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - null null
2026-01-12 17:45:08 [INF] CORS policy execution successful.
2026-01-12 17:45:08 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - 204 null null 37.8856ms
2026-01-12 17:45:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - null null
2026-01-12 17:45:08 [INF] CORS policy execution successful.
2026-01-12 17:45:08 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:45:08 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:45:09 [INF] Field mapping detected for FileId: "bf442bc3-c2b3-4173-a32d-abfc719bf249", Detected: 0 fields
2026-01-12 17:45:09 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-12 17:45:09 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 799.2093ms
2026-01-12 17:45:09 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:45:09 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/bf442bc3-c2b3-4173-a32d-abfc719bf249/detect-fields - 400 null application/json; charset=utf-8 1121.4614ms
2026-01-12 17:45:15 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:45:15 [INF] CORS policy execution successful.
2026-01-12 17:45:15 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:45:15 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:45:15 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:45:16 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 206.4244ms
2026-01-12 17:45:16 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:45:16 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 406.9596ms
2026-01-12 17:45:17 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:45:17 [INF] CORS policy execution successful.
2026-01-12 17:45:17 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:45:17 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:45:17 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:45:17 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 73.1554ms
2026-01-12 17:45:17 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:45:17 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 123.1227ms
2026-01-12 17:45:18 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:45:18 [INF] CORS policy execution successful.
2026-01-12 17:45:18 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:45:18 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:45:19 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:45:19 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 40.6543ms
2026-01-12 17:45:19 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:45:19 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 110.9488ms
2026-01-12 17:45:24 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - multipart/form-data; boundary=----WebKitFormBoundaryZuvmRPM9DTUGK9uZ 6492
2026-01-12 17:45:24 [INF] CORS policy execution successful.
2026-01-12 17:45:24 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:45:24 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:45:24 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 17:45:25 [INF] File upload completed: "9aa5df02-60c1-4a51-95ec-f40172c9898d", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\9aa5df02-60c1-4a51-95ec-f40172c9898d_sample_patient_data.xml
2026-01-12 17:45:25 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:45:25 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 250.5566ms
2026-01-12 17:45:25 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:45:25 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 386.8112ms
2026-01-12 17:45:26 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/9aa5df02-60c1-4a51-95ec-f40172c9898d/detect-fields - null null
2026-01-12 17:45:26 [INF] CORS policy execution successful.
2026-01-12 17:45:26 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/9aa5df02-60c1-4a51-95ec-f40172c9898d/detect-fields - 204 null null 19.1ms
2026-01-12 17:45:26 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/9aa5df02-60c1-4a51-95ec-f40172c9898d/detect-fields - null null
2026-01-12 17:45:26 [INF] CORS policy execution successful.
2026-01-12 17:45:26 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:45:26 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:45:26 [INF] Field mapping detected for FileId: "9aa5df02-60c1-4a51-95ec-f40172c9898d", Detected: 0 fields
2026-01-12 17:45:26 [ERR] Error parsing CCDA file for field detection
System.Xml.XmlException: 'xsi' is an undeclared prefix. Line 87, position 26.
   at System.Xml.XmlTextReaderImpl.Throw(Exception e)
   at System.Xml.XmlTextReaderImpl.Throw(String res, String arg, Int32 lineNo, Int32 linePos)
   at System.Xml.XmlTextReaderImpl.LookupNamespace(NodeData node)
   at System.Xml.XmlTextReaderImpl.AttributeNamespaceLookup()
   at System.Xml.XmlTextReaderImpl.ParseAttributes()
   at System.Xml.XmlTextReaderImpl.ParseElement()
   at System.Xml.XmlTextReaderImpl.ParseElementContent()
   at System.Xml.XmlLoader.LoadNode(Boolean skipOverWhitespace)
   at System.Xml.XmlLoader.LoadDocSequence(XmlDocument parentDoc)
   at System.Xml.XmlDocument.Load(XmlReader reader)
   at System.Xml.XmlDocument.LoadXml(String xml)
   at Kanini.Application.Services.Conversion.FieldDetectionService.ExtractCcdaFieldsAsync(String filePath) in C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Application\Services\Conversion\FieldDetectionService.cs:line 264
2026-01-12 17:45:26 [INF] Field mapping detected for FileId: "9aa5df02-60c1-4a51-95ec-f40172c9898d", Detected: 1 fields
2026-01-12 17:45:26 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:45:26 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 266.8201ms
2026-01-12 17:45:26 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:45:26 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/9aa5df02-60c1-4a51-95ec-f40172c9898d/detect-fields - 200 null application/json; charset=utf-8 365.0067ms
2026-01-12 17:47:59 [INF] Application is shutting down...
2026-01-12 17:55:26 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 17:55:26 [INF] Now listening on: http://localhost:5201
2026-01-12 17:55:26 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 17:55:26 [INF] Hosting environment: Development
2026-01-12 17:55:26 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 17:55:28 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:55:28 [WRN] Failed to determine the https port for redirect.
2026-01-12 17:55:28 [INF] CORS policy execution successful.
2026-01-12 17:55:28 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:28 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:55:28 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:55:29 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 787.5116ms
2026-01-12 17:55:29 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:29 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 1105.9936ms
2026-01-12 17:55:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:55:29 [INF] CORS policy execution successful.
2026-01-12 17:55:29 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:29 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:55:29 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:55:29 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 92.5301ms
2026-01-12 17:55:30 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 700.1198ms
2026-01-12 17:55:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:55:30 [INF] CORS policy execution successful.
2026-01-12 17:55:30 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:30 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:55:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:55:30 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 67.974ms
2026-01-12 17:55:30 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 222.4563ms
2026-01-12 17:55:31 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:55:31 [INF] CORS policy execution successful.
2026-01-12 17:55:31 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:55:31 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:55:32 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:55:32 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 68.357ms
2026-01-12 17:55:32 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:55:32 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 179.5105ms
2026-01-12 17:55:38 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - multipart/form-data; boundary=----WebKitFormBoundary9QfM5CudOIQYvbZH 6492
2026-01-12 17:55:38 [INF] CORS policy execution successful.
2026-01-12 17:55:38 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:55:38 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 17:55:38 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 17:55:38 [INF] File upload completed: "f02942f1-ecf3-4c67-a311-8957dfd2fec6", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\f02942f1-ecf3-4c67-a311-8957dfd2fec6_sample_patient_data.xml
2026-01-12 17:55:38 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 17:55:38 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 112.938ms
2026-01-12 17:55:38 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 17:55:38 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 160.4213ms
2026-01-12 17:55:40 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/f02942f1-ecf3-4c67-a311-8957dfd2fec6/detect-fields - null null
2026-01-12 17:55:40 [INF] CORS policy execution successful.
2026-01-12 17:55:40 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/f02942f1-ecf3-4c67-a311-8957dfd2fec6/detect-fields - 204 null null 9.8704ms
2026-01-12 17:55:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/f02942f1-ecf3-4c67-a311-8957dfd2fec6/detect-fields - null null
2026-01-12 17:55:40 [INF] CORS policy execution successful.
2026-01-12 17:55:40 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:55:40 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:55:40 [INF] Field mapping detected for FileId: "f02942f1-ecf3-4c67-a311-8957dfd2fec6", Detected: 0 fields
2026-01-12 17:55:40 [INF] Field mapping detected for FileId: "f02942f1-ecf3-4c67-a311-8957dfd2fec6", Detected: 9 fields
2026-01-12 17:55:40 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 17:55:40 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 398.5389ms
2026-01-12 17:55:40 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 17:55:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/f02942f1-ecf3-4c67-a311-8957dfd2fec6/detect-fields - 200 null application/json; charset=utf-8 464.662ms
2026-01-12 17:55:57 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:55:57 [INF] CORS policy execution successful.
2026-01-12 17:55:57 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:57 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:55:57 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:55:57 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 10.0444ms
2026-01-12 17:55:57 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:55:57 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 37.9912ms
2026-01-12 17:56:04 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 17:56:04 [INF] CORS policy execution successful.
2026-01-12 17:56:04 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 10.1726ms
2026-01-12 17:56:04 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 791
2026-01-12 17:56:04 [INF] CORS policy execution successful.
2026-01-12 17:56:04 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 17:56:04 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:56:04 [INF] Starting conversion for FileId: "f02942f1-ecf3-4c67-a311-8957dfd2fec6"
2026-01-12 17:56:05 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 17:56:05 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 17:56:06 [INF] Executed DbCommand (16ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 17:56:06 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 17:56:06 [INF] Background conversion task started for JobId: "06564c06-657f-4246-9a19-a9152a1bb693"
2026-01-12 17:56:06 [INF] Conversion job created - FileId: "f02942f1-ecf3-4c67-a311-8957dfd2fec6", JobId: "06564c06-657f-4246-9a19-a9152a1bb693"
2026-01-12 17:56:06 [INF] Starting conversion process for JobId: "06564c06-657f-4246-9a19-a9152a1bb693"
2026-01-12 17:56:06 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:56:06 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 2723.6521ms
2026-01-12 17:56:06 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 17:56:07 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 2913.676ms
2026-01-12 17:56:07 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:56:07 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\f02942f1-ecf3-4c67-a311-8957dfd2fec6_sample_patient_data.xml for JobId: "06564c06-657f-4246-9a19-a9152a1bb693"
2026-01-12 17:56:07 [INF] Parsed 1 patient and 1 observations for JobId: "06564c06-657f-4246-9a19-a9152a1bb693"
2026-01-12 17:56:07 [WRN] No LOINC mapping found for test name: 'General Health Status', using text fallback
2026-01-12 17:56:07 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 17:56:07 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:56:07 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [RequestId] = @p3;
2026-01-12 17:56:07 [INF] DataRequest "5fac915c-cd1c-432d-8819-343c199a2423" marked as DataReady
2026-01-12 17:56:07 [INF] Conversion completed for JobId: "06564c06-657f-4246-9a19-a9152a1bb693", Patients: 1, Observations: 1
2026-01-12 17:56:08 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/06564c06-657f-4246-9a19-a9152a1bb693 - null null
2026-01-12 17:56:08 [INF] CORS policy execution successful.
2026-01-12 17:56:08 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/06564c06-657f-4246-9a19-a9152a1bb693 - 204 null null 10.6737ms
2026-01-12 17:56:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/06564c06-657f-4246-9a19-a9152a1bb693 - null null
2026-01-12 17:56:08 [INF] CORS policy execution successful.
2026-01-12 17:56:08 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 17:56:08 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:56:09 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:56:09 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:56:09 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 208.2176ms
2026-01-12 17:56:09 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 17:56:09 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/06564c06-657f-4246-9a19-a9152a1bb693 - 200 null application/json; charset=utf-8 257.48ms
2026-01-12 17:56:09 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/06564c06-657f-4246-9a19-a9152a1bb693 - null null
2026-01-12 17:56:09 [INF] CORS policy execution successful.
2026-01-12 17:56:09 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/06564c06-657f-4246-9a19-a9152a1bb693 - 204 null null 53.4549ms
2026-01-12 17:56:09 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/06564c06-657f-4246-9a19-a9152a1bb693 - null null
2026-01-12 17:56:09 [INF] CORS policy execution successful.
2026-01-12 17:56:09 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 17:56:09 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:56:09 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:56:09 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 17:56:09 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 18.1957ms
2026-01-12 17:56:09 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 17:56:09 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/06564c06-657f-4246-9a19-a9152a1bb693 - 200 null application/json; charset=utf-8 111.0148ms
2026-01-12 17:56:16 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 17:56:16 [INF] CORS policy execution successful.
2026-01-12 17:56:16 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:16 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:56:16 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:56:16 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 50.7469ms
2026-01-12 17:56:16 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:16 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 76.084ms
2026-01-12 17:56:16 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:56:16 [INF] CORS policy execution successful.
2026-01-12 17:56:16 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:16 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:56:16 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:56:16 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.19ms
2026-01-12 17:56:16 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:16 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 37.8242ms
2026-01-12 17:56:18 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:56:18 [INF] CORS policy execution successful.
2026-01-12 17:56:18 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/5fac915c-cd1c-432d-8819-343c199a2423 - 204 null null 9.5736ms
2026-01-12 17:56:18 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/by-request/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:56:18 [INF] CORS policy execution successful.
2026-01-12 17:56:18 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 17:56:18 [INF] Route matched with {action = "GetConversionByRequestId", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionByRequestId(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:56:18 [INF] Executed DbCommand (9ms) [Parameters=[@requestId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[RequestId] = @requestId
2026-01-12 17:56:18 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 17:56:18 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api) in 59.0716ms
2026-01-12 17:56:18 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 17:56:18 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/by-request/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 107.6259ms
2026-01-12 17:56:18 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/06564c06-657f-4246-9a19-a9152a1bb693 - null null
2026-01-12 17:56:18 [INF] CORS policy execution successful.
2026-01-12 17:56:18 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 17:56:18 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 17:56:18 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 17:56:18 [WRN] No LOINC mapping found for test name: 'General Health Status', using text fallback
2026-01-12 17:56:18 [INF] Created FHIR Bundle with 1 Patient and 1 Observations
2026-01-12 17:56:18 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 17:56:18 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [RequestId] = @p2;
2026-01-12 17:56:18 [INF] DataRequest "5fac915c-cd1c-432d-8819-343c199a2423" marked as completed
2026-01-12 17:56:18 [INF] FHIR bundle generated for JobId: "06564c06-657f-4246-9a19-a9152a1bb693", Size: 949 bytes
2026-01-12 17:56:18 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-06564c06-657f-4246-9a19-a9152a1bb693.json' ...
2026-01-12 17:56:18 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 322.3224ms
2026-01-12 17:56:18 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 17:56:18 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/06564c06-657f-4246-9a19-a9152a1bb693 - 200 949 application/json 372.4099ms
2026-01-12 17:56:18 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:56:18 [INF] CORS policy execution successful.
2026-01-12 17:56:18 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:18 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:56:18 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:56:18 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 4.5592ms
2026-01-12 17:56:18 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:18 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 32.8112ms
2026-01-12 17:56:46 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:56:46 [INF] CORS policy execution successful.
2026-01-12 17:56:46 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:46 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:56:47 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:56:47 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 9.7436ms
2026-01-12 17:56:47 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:56:47 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 48.3829ms
2026-01-12 17:57:16 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:57:16 [INF] CORS policy execution successful.
2026-01-12 17:57:16 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:57:16 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:57:17 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:57:17 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 45.3631ms
2026-01-12 17:57:17 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:57:17 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 83.8816ms
2026-01-12 17:57:32 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 17:57:32 [INF] CORS policy execution successful.
2026-01-12 17:57:32 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:57:32 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:57:32 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 17:57:32 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 25.3805ms
2026-01-12 17:57:32 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 17:57:32 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 72.3025ms
2026-01-12 17:57:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:57:38 [INF] CORS policy execution successful.
2026-01-12 17:57:38 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:57:38 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:57:38 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:57:38 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 10.793ms
2026-01-12 17:57:38 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:57:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 36.2426ms
2026-01-12 17:58:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:58:08 [INF] CORS policy execution successful.
2026-01-12 17:58:08 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:58:08 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:58:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:58:08 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 12.4491ms
2026-01-12 17:58:08 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:58:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 41.4399ms
2026-01-12 17:58:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 17:58:38 [INF] CORS policy execution successful.
2026-01-12 17:58:38 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:58:38 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 17:58:38 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 17:58:38 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 34.8468ms
2026-01-12 17:58:39 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 17:58:39 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 83.7006ms
2026-01-12 17:58:55 [INF] Application is shutting down...
2026-01-12 18:00:05 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 18:00:05 [INF] Now listening on: http://localhost:5201
2026-01-12 18:00:05 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 18:00:05 [INF] Hosting environment: Development
2026-01-12 18:00:05 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 18:00:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - null null
2026-01-12 18:00:30 [WRN] Failed to determine the https port for redirect.
2026-01-12 18:00:30 [INF] CORS policy execution successful.
2026-01-12 18:00:31 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:00:31 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:32 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:00:32 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 1324.8972ms
2026-01-12 18:00:32 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:00:32 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/5fac915c-cd1c-432d-8819-343c199a2423 - 200 null application/json; charset=utf-8 1803.2235ms
2026-01-12 18:00:35 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:00:35 [INF] CORS policy execution successful.
2026-01-12 18:00:35 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:35 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:36 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:00:36 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 94.9366ms
2026-01-12 18:00:36 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:36 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 169.6437ms
2026-01-12 18:00:37 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 18:00:37 [INF] CORS policy execution successful.
2026-01-12 18:00:37 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:00:37 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 18:00:37 [INF] Getting all patients
2026-01-12 18:00:37 [INF] Getting all patients
2026-01-12 18:00:37 [INF] Retrieved 1 patients
2026-01-12 18:00:37 [INF] Retrieved 1 patients
2026-01-12 18:00:37 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:00:37 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 87.1048ms
2026-01-12 18:00:37 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:00:37 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 141.6549ms
2026-01-12 18:00:41 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 18:00:41 [INF] CORS policy execution successful.
2026-01-12 18:00:41 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 10.4014ms
2026-01-12 18:00:41 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 133
2026-01-12 18:00:41 [INF] CORS policy execution successful.
2026-01-12 18:00:41 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 18:00:41 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:41 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 18:00:42 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 18:00:42 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 18:00:43 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (Size = 1000), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DataRequests] ([RequestId], [ApprovedAt], [ApprovedByUserId], [CreatedBy], [CreatedOn], [ExpiresAt], [GlobalPatientId], [Notes], [OrganizationId], [OrganizationId1], [RequestingOrganizationId], [RequestingUserId], [SourceOrganizationId], [Status], [UpdatedBy], [UpdatedOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 18:00:43 [INF] Data request created successfully with ID: "851789f6-7871-4142-afd7-90b7a5973078"
2026-01-12 18:00:43 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:00:43 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 2160.6ms
2026-01-12 18:00:43 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 18:00:43 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 200 null application/json; charset=utf-8 2235.2544ms
2026-01-12 18:00:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:00:43 [INF] CORS policy execution successful.
2026-01-12 18:00:43 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:43 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:43 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:00:43 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.4687ms
2026-01-12 18:00:43 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 32.8272ms
2026-01-12 18:00:49 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:00:49 [INF] CORS policy execution successful.
2026-01-12 18:00:49 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:49 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:49 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:00:49 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 13.7396ms
2026-01-12 18:00:49 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:49 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 42.1478ms
2026-01-12 18:00:50 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:00:50 [INF] CORS policy execution successful.
2026-01-12 18:00:50 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:50 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:50 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:00:50 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.3216ms
2026-01-12 18:00:50 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:00:50 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 34.7379ms
2026-01-12 18:00:51 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078 - null null
2026-01-12 18:00:51 [INF] CORS policy execution successful.
2026-01-12 18:00:51 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:00:51 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:51 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:00:51 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 7.2166ms
2026-01-12 18:00:51 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:00:51 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078 - 200 null application/json; charset=utf-8 102.2296ms
2026-01-12 18:00:53 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078/approve - null null
2026-01-12 18:00:53 [INF] CORS policy execution successful.
2026-01-12 18:00:53 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078/approve - 204 null null 10.6986ms
2026-01-12 18:00:53 [INF] Request starting HTTP/1.1 PUT http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078/approve - application/json 56
2026-01-12 18:00:53 [INF] CORS policy execution successful.
2026-01-12 18:00:53 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 18:00:53 [INF] Route matched with {action = "ApproveRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveRequest(System.Guid, Kanini.Application.DTOs.DataRequests.ApproveDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:00:53 [INF] Data request approval started for RequestId: "851789f6-7871-4142-afd7-90b7a5973078"
2026-01-12 18:00:53 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:00:53 [INF] Executed DbCommand (13ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [ApprovedAt] = @p0, [ApprovedByUserId] = @p1, [Notes] = @p2, [Status] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RequestId] = @p6;
2026-01-12 18:00:53 [INF] Data request approved successfully for RequestId: "851789f6-7871-4142-afd7-90b7a5973078"
2026-01-12 18:00:53 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:00:53 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api) in 784.8025ms
2026-01-12 18:00:53 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 18:00:53 [INF] Request finished HTTP/1.1 PUT http://localhost:5201/api/data-requests/851789f6-7871-4142-afd7-90b7a5973078/approve - 200 null application/json; charset=utf-8 843.7551ms
2026-01-12 18:00:59 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=851789f6-7871-4142-afd7-90b7a5973078 - multipart/form-data; boundary=----WebKitFormBoundarygT0g3V4bhH5JBXbF 6492
2026-01-12 18:00:59 [INF] CORS policy execution successful.
2026-01-12 18:00:59 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 18:00:59 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 18:00:59 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 18:00:59 [INF] File upload completed: "7c8f2ad9-f990-4633-9ce3-a79ae04dc61c", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\7c8f2ad9-f990-4633-9ce3-a79ae04dc61c_sample_patient_data.xml
2026-01-12 18:00:59 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 18:00:59 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 173.0166ms
2026-01-12 18:00:59 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 18:00:59 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=851789f6-7871-4142-afd7-90b7a5973078 - 200 null application/json; charset=utf-8 214.2982ms
2026-01-12 18:01:01 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/7c8f2ad9-f990-4633-9ce3-a79ae04dc61c/detect-fields - null null
2026-01-12 18:01:01 [INF] CORS policy execution successful.
2026-01-12 18:01:01 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/7c8f2ad9-f990-4633-9ce3-a79ae04dc61c/detect-fields - 204 null null 6.138ms
2026-01-12 18:01:01 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/7c8f2ad9-f990-4633-9ce3-a79ae04dc61c/detect-fields - null null
2026-01-12 18:01:01 [INF] CORS policy execution successful.
2026-01-12 18:01:01 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 18:01:01 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:01 [INF] Field mapping detected for FileId: "7c8f2ad9-f990-4633-9ce3-a79ae04dc61c", Detected: 0 fields
2026-01-12 18:01:01 [INF] Field mapping detected for FileId: "7c8f2ad9-f990-4633-9ce3-a79ae04dc61c", Detected: 9 fields
2026-01-12 18:01:01 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 18:01:01 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 360.0937ms
2026-01-12 18:01:01 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 18:01:01 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/7c8f2ad9-f990-4633-9ce3-a79ae04dc61c/detect-fields - 200 null application/json; charset=utf-8 413.3989ms
2026-01-12 18:01:13 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:01:13 [INF] CORS policy execution successful.
2026-01-12 18:01:13 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:13 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:01:13 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:01:13 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 11.2698ms
2026-01-12 18:01:13 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:13 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 40.8405ms
2026-01-12 18:01:28 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 18:01:28 [INF] CORS policy execution successful.
2026-01-12 18:01:28 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 7.5576ms
2026-01-12 18:01:28 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 791
2026-01-12 18:01:28 [INF] CORS policy execution successful.
2026-01-12 18:01:28 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 18:01:28 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:28 [INF] Starting conversion for FileId: "7c8f2ad9-f990-4633-9ce3-a79ae04dc61c"
2026-01-12 18:01:28 [INF] Executed DbCommand (10ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 18:01:28 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 18:01:28 [INF] Background conversion task started for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6"
2026-01-12 18:01:28 [INF] Conversion job created - FileId: "7c8f2ad9-f990-4633-9ce3-a79ae04dc61c", JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6"
2026-01-12 18:01:28 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:01:28 [INF] Starting conversion process for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6"
2026-01-12 18:01:28 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 321.0465ms
2026-01-12 18:01:28 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 18:01:28 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 378.3555ms
2026-01-12 18:01:28 [INF] Executed DbCommand (10ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:01:28 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\7c8f2ad9-f990-4633-9ce3-a79ae04dc61c_sample_patient_data.xml for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6"
2026-01-12 18:01:28 [INF] Parsed 1 patient and 1 observations for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6"
2026-01-12 18:01:28 [WRN] No LOINC mapping found for test name: 'General Health Status', using text fallback
2026-01-12 18:01:28 [INF] Executed DbCommand (10ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 18:01:28 [INF] Executed DbCommand (8ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:01:28 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [RequestId] = @p3;
2026-01-12 18:01:28 [INF] DataRequest "851789f6-7871-4142-afd7-90b7a5973078" marked as DataReady
2026-01-12 18:01:28 [INF] Conversion completed for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6", Patients: 1, Observations: 1
2026-01-12 18:01:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/1da8100b-5651-44ac-93e5-306563ae8fa6 - null null
2026-01-12 18:01:30 [INF] CORS policy execution successful.
2026-01-12 18:01:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/1da8100b-5651-44ac-93e5-306563ae8fa6 - 204 null null 12.238ms
2026-01-12 18:01:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/1da8100b-5651-44ac-93e5-306563ae8fa6 - null null
2026-01-12 18:01:30 [INF] CORS policy execution successful.
2026-01-12 18:01:30 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 18:01:30 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:30 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:01:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:01:30 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 37.6726ms
2026-01-12 18:01:30 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 18:01:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/1da8100b-5651-44ac-93e5-306563ae8fa6 - 200 null application/json; charset=utf-8 83.8685ms
2026-01-12 18:01:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/1da8100b-5651-44ac-93e5-306563ae8fa6 - null null
2026-01-12 18:01:30 [INF] CORS policy execution successful.
2026-01-12 18:01:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/1da8100b-5651-44ac-93e5-306563ae8fa6 - 204 null null 8.1305ms
2026-01-12 18:01:30 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/1da8100b-5651-44ac-93e5-306563ae8fa6 - null null
2026-01-12 18:01:30 [INF] CORS policy execution successful.
2026-01-12 18:01:30 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 18:01:30 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:30 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:01:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 18:01:30 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 25.7136ms
2026-01-12 18:01:30 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 18:01:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/1da8100b-5651-44ac-93e5-306563ae8fa6 - 200 null application/json; charset=utf-8 88.2028ms
2026-01-12 18:01:35 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:01:35 [INF] CORS policy execution successful.
2026-01-12 18:01:35 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:35 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:01:35 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:01:35 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 101.9984ms
2026-01-12 18:01:35 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:35 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 122.7572ms
2026-01-12 18:01:36 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:01:36 [INF] CORS policy execution successful.
2026-01-12 18:01:36 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:36 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:01:36 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:01:36 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 9.5798ms
2026-01-12 18:01:36 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:36 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 40.4971ms
2026-01-12 18:01:37 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/851789f6-7871-4142-afd7-90b7a5973078 - null null
2026-01-12 18:01:37 [INF] CORS policy execution successful.
2026-01-12 18:01:37 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/851789f6-7871-4142-afd7-90b7a5973078 - 204 null null 8.2081ms
2026-01-12 18:01:37 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/by-request/851789f6-7871-4142-afd7-90b7a5973078 - null null
2026-01-12 18:01:37 [INF] CORS policy execution successful.
2026-01-12 18:01:38 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 18:01:38 [INF] Route matched with {action = "GetConversionByRequestId", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionByRequestId(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:38 [INF] Executed DbCommand (6ms) [Parameters=[@requestId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[RequestId] = @requestId
2026-01-12 18:01:38 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:01:38 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api) in 53.7814ms
2026-01-12 18:01:38 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 18:01:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/by-request/851789f6-7871-4142-afd7-90b7a5973078 - 200 null application/json; charset=utf-8 117.2747ms
2026-01-12 18:01:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/1da8100b-5651-44ac-93e5-306563ae8fa6 - null null
2026-01-12 18:01:38 [INF] CORS policy execution successful.
2026-01-12 18:01:38 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 18:01:38 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:01:38 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:01:38 [WRN] No LOINC mapping found for test name: 'General Health Status', using text fallback
2026-01-12 18:01:38 [INF] Created FHIR Bundle with 1 Patient and 1 Observations
2026-01-12 18:01:38 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:01:38 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [RequestId] = @p2;
2026-01-12 18:01:38 [INF] DataRequest "851789f6-7871-4142-afd7-90b7a5973078" marked as completed
2026-01-12 18:01:38 [INF] FHIR bundle generated for JobId: "1da8100b-5651-44ac-93e5-306563ae8fa6", Size: 949 bytes
2026-01-12 18:01:38 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-1da8100b-5651-44ac-93e5-306563ae8fa6.json' ...
2026-01-12 18:01:38 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 326.9194ms
2026-01-12 18:01:38 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 18:01:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/1da8100b-5651-44ac-93e5-306563ae8fa6 - 200 949 application/json 373.4298ms
2026-01-12 18:01:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:01:38 [INF] CORS policy execution successful.
2026-01-12 18:01:38 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:38 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:01:38 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:01:38 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.387ms
2026-01-12 18:01:38 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:01:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 24.8305ms
2026-01-12 18:02:06 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:02:06 [INF] CORS policy execution successful.
2026-01-12 18:02:06 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:02:06 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:02:06 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:02:06 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 52.9821ms
2026-01-12 18:02:06 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:02:06 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 65.5123ms
2026-01-12 18:02:36 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:02:36 [INF] CORS policy execution successful.
2026-01-12 18:02:36 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:02:36 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:02:36 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:02:36 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 38.5602ms
2026-01-12 18:02:36 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:02:36 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 62.1046ms
2026-01-12 18:03:06 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:03:06 [INF] CORS policy execution successful.
2026-01-12 18:03:06 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:03:06 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:03:06 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:03:06 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 43.3877ms
2026-01-12 18:03:07 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:03:07 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 72.3178ms
2026-01-12 18:03:36 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:03:36 [INF] CORS policy execution successful.
2026-01-12 18:03:36 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:03:36 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:03:36 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:03:36 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.0919ms
2026-01-12 18:03:36 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:03:36 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 33.6043ms
2026-01-12 18:04:06 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:04:06 [INF] CORS policy execution successful.
2026-01-12 18:04:06 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:04:06 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:04:06 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:04:06 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 53.8535ms
2026-01-12 18:04:06 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:04:06 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 71.842ms
2026-01-12 18:04:36 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:04:36 [INF] CORS policy execution successful.
2026-01-12 18:04:36 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:04:36 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:04:36 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:04:36 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.5564ms
2026-01-12 18:04:36 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:04:36 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 30.9028ms
2026-01-12 18:04:59 [INF] Application is shutting down...
2026-01-12 18:05:48 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-12 18:05:48 [INF] Now listening on: http://localhost:5201
2026-01-12 18:05:48 [INF] Application started. Press Ctrl+C to shut down.
2026-01-12 18:05:48 [INF] Hosting environment: Development
2026-01-12 18:05:48 [INF] Content root path: C:\Users\maste\Documents\Kanini\Fhir _PE\development\Kanini.Api
2026-01-12 18:06:24 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:06:24 [WRN] Failed to determine the https port for redirect.
2026-01-12 18:06:24 [INF] CORS policy execution successful.
2026-01-12 18:06:24 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:24 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:24 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:06:24 [INF] CORS policy execution successful.
2026-01-12 18:06:24 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:24 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:25 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:25 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:25 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 1179.7115ms
2026-01-12 18:06:25 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 936.1433ms
2026-01-12 18:06:25 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:25 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:25 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 1572.745ms
2026-01-12 18:06:25 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 1029.7361ms
2026-01-12 18:06:29 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:06:29 [INF] CORS policy execution successful.
2026-01-12 18:06:29 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:29 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:30 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 33.34ms
2026-01-12 18:06:30 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:30 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 81.5113ms
2026-01-12 18:06:31 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:06:31 [INF] CORS policy execution successful.
2026-01-12 18:06:31 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:31 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:31 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:31 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.9489ms
2026-01-12 18:06:31 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:31 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 33.0905ms
2026-01-12 18:06:32 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:06:32 [INF] CORS policy execution successful.
2026-01-12 18:06:32 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:32 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:32 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:32 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.7519ms
2026-01-12 18:06:32 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:32 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 32.0685ms
2026-01-12 18:06:35 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 18:06:35 [INF] CORS policy execution successful.
2026-01-12 18:06:35 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:06:35 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 18:06:35 [INF] Getting all patients
2026-01-12 18:06:35 [INF] Getting all patients
2026-01-12 18:06:35 [INF] Retrieved 1 patients
2026-01-12 18:06:35 [INF] Retrieved 1 patients
2026-01-12 18:06:35 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:35 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 59.1022ms
2026-01-12 18:06:35 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:06:35 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 123.1068ms
2026-01-12 18:06:40 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - null null
2026-01-12 18:06:40 [INF] CORS policy execution successful.
2026-01-12 18:06:40 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests - 204 null null 11.3806ms
2026-01-12 18:06:40 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/data-requests - application/json 134
2026-01-12 18:06:40 [INF] CORS policy execution successful.
2026-01-12 18:06:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 18:06:40 [INF] Route matched with {action = "CreateRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRequest(Kanini.Application.DTOs.DataRequests.CreateDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:40 [INF] Data request creation started for GlobalPatientId: "b2faadec-73ee-45a9-90fa-fffbf125ec50"
2026-01-12 18:06:41 [WRN] There are multiple relationships between 'DataRequest' and 'Organization' without configured foreign key properties. This will cause Entity Framework to create shadow properties on 'DataRequest' with names dependent on the discovery order. Consider configuring the foreign key properties using the [ForeignKey] attribute or in 'OnModelCreating'.
2026-01-12 18:06:41 [WRN] The foreign key property 'DataRequest.OrganizationId1' was created in shadow state because a conflicting property with the simple name 'OrganizationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2026-01-12 18:06:42 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:06:42 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (Size = 1000), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DataRequests] ([RequestId], [ApprovedAt], [ApprovedByUserId], [CreatedBy], [CreatedOn], [ExpiresAt], [GlobalPatientId], [Notes], [OrganizationId], [OrganizationId1], [RequestingOrganizationId], [RequestingUserId], [SourceOrganizationId], [Status], [UpdatedBy], [UpdatedOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 18:06:42 [INF] CORS policy execution successful.
2026-01-12 18:06:42 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:42 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:42 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:43 [INF] Data request created successfully with ID: "bb0439d4-3615-48ea-abd1-927527622fbe"
2026-01-12 18:06:43 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 325.3353ms
2026-01-12 18:06:43 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:06:43 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:43 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api) in 3146.0272ms
2026-01-12 18:06:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 644.6921ms
2026-01-12 18:06:43 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.CreateRequest (Kanini.Api)'
2026-01-12 18:06:43 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/data-requests - 200 null application/json; charset=utf-8 3281.8984ms
2026-01-12 18:06:43 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:06:43 [INF] CORS policy execution successful.
2026-01-12 18:06:43 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:43 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:43 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:06:43 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 12.4434ms
2026-01-12 18:06:43 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:06:43 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 77.1657ms
2026-01-12 18:06:44 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe - null null
2026-01-12 18:06:44 [INF] CORS policy execution successful.
2026-01-12 18:06:44 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:06:44 [INF] Route matched with {action = "GetRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequest(System.Guid) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:44 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:06:44 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api) in 28.7819ms
2026-01-12 18:06:44 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequest (Kanini.Api)'
2026-01-12 18:06:44 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe - 200 null application/json; charset=utf-8 121.4174ms
2026-01-12 18:06:45 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe/approve - null null
2026-01-12 18:06:45 [INF] CORS policy execution successful.
2026-01-12 18:06:45 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe/approve - 204 null null 12.2904ms
2026-01-12 18:06:45 [INF] Request starting HTTP/1.1 PUT http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe/approve - application/json 56
2026-01-12 18:06:45 [INF] CORS policy execution successful.
2026-01-12 18:06:45 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 18:06:45 [INF] Route matched with {action = "ApproveRequest", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveRequest(System.Guid, Kanini.Application.DTOs.DataRequests.ApproveDataRequestDto) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:06:46 [INF] Data request approval started for RequestId: "bb0439d4-3615-48ea-abd1-927527622fbe"
2026-01-12 18:06:47 [INF] Executed DbCommand (5ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:06:47 [INF] Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [ApprovedAt] = @p0, [ApprovedByUserId] = @p1, [Notes] = @p2, [Status] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RequestId] = @p6;
2026-01-12 18:06:47 [INF] Data request approved successfully for RequestId: "bb0439d4-3615-48ea-abd1-927527622fbe"
2026-01-12 18:06:47 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.DataRequests.DataRequestResponseDto'.
2026-01-12 18:06:47 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api) in 1315.8821ms
2026-01-12 18:06:47 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.ApproveRequest (Kanini.Api)'
2026-01-12 18:06:47 [INF] Request finished HTTP/1.1 PUT http://localhost:5201/api/data-requests/bb0439d4-3615-48ea-abd1-927527622fbe/approve - 200 null application/json; charset=utf-8 1430.0294ms
2026-01-12 18:07:01 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=bb0439d4-3615-48ea-abd1-927527622fbe - multipart/form-data; boundary=----WebKitFormBoundaryVB07UbGCWKNxsWqo 6492
2026-01-12 18:07:01 [INF] CORS policy execution successful.
2026-01-12 18:07:01 [INF] Executing endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 18:07:01 [INF] Route matched with {action = "UploadFile", controller = "Files"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadFile(Microsoft.AspNetCore.Http.IFormFile, System.Nullable`1[System.Guid]) on controller Kanini.Api.Controllers.FilesController (Kanini.Api).
2026-01-12 18:07:01 [INF] File upload started: sample_patient_data.xml, Size: 6297
2026-01-12 18:07:01 [INF] File upload completed: "f414fe37-e976-453d-9134-7b184753cd2e", Path: C:\Users\maste\AppData\Local\Temp\TempUploads\f414fe37-e976-453d-9134-7b184753cd2e_sample_patient_data.xml
2026-01-12 18:07:01 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Files.FileUploadResponseDto'.
2026-01-12 18:07:01 [INF] Executed action Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api) in 90.4582ms
2026-01-12 18:07:01 [INF] Executed endpoint 'Kanini.Api.Controllers.FilesController.UploadFile (Kanini.Api)'
2026-01-12 18:07:01 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/files/upload?requestId=bb0439d4-3615-48ea-abd1-927527622fbe - 200 null application/json; charset=utf-8 190.2508ms
2026-01-12 18:07:03 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/f414fe37-e976-453d-9134-7b184753cd2e/detect-fields - null null
2026-01-12 18:07:03 [INF] CORS policy execution successful.
2026-01-12 18:07:03 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/f414fe37-e976-453d-9134-7b184753cd2e/detect-fields - 204 null null 8.5184ms
2026-01-12 18:07:03 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/f414fe37-e976-453d-9134-7b184753cd2e/detect-fields - null null
2026-01-12 18:07:03 [INF] CORS policy execution successful.
2026-01-12 18:07:03 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 18:07:03 [INF] Route matched with {action = "DetectFields", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DetectFields(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:03 [INF] Field mapping detected for FileId: "f414fe37-e976-453d-9134-7b184753cd2e", Detected: 0 fields
2026-01-12 18:07:03 [INF] Field mapping detected for FileId: "f414fe37-e976-453d-9134-7b184753cd2e", Detected: 9 fields
2026-01-12 18:07:03 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FieldDetectionResponseDto'.
2026-01-12 18:07:03 [INF] Executed action Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api) in 357.9277ms
2026-01-12 18:07:03 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DetectFields (Kanini.Api)'
2026-01-12 18:07:03 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/f414fe37-e976-453d-9134-7b184753cd2e/detect-fields - 200 null application/json; charset=utf-8 407.3604ms
2026-01-12 18:07:13 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:07:13 [INF] CORS policy execution successful.
2026-01-12 18:07:13 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:13 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:07:13 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:07:13 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 43.5545ms
2026-01-12 18:07:13 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:14 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 73.0332ms
2026-01-12 18:07:29 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - null null
2026-01-12 18:07:29 [INF] CORS policy execution successful.
2026-01-12 18:07:29 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/start - 204 null null 8.4266ms
2026-01-12 18:07:29 [INF] Request starting HTTP/1.1 POST http://localhost:5201/api/convert/start - application/json 791
2026-01-12 18:07:29 [INF] CORS policy execution successful.
2026-01-12 18:07:29 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 18:07:29 [INF] Route matched with {action = "StartConversion", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(Kanini.Application.DTOs.Conversion.StartConversionRequestDto) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:29 [INF] Starting conversion for FileId: "f414fe37-e976-453d-9134-7b184753cd2e"
2026-01-12 18:07:29 [INF] Executed DbCommand (7ms) [Parameters=[@8__locals1_userId='?' (DbType = Guid), @ToString_contains='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[UserId] = @8__locals1_userId AND [c].[Status] = 1 AND [c].[OriginalFileName] IS NOT NULL AND [c].[OriginalFileName] LIKE @ToString_contains ESCAPE N'\'
2026-01-12 18:07:29 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 2000), @p5='?' (DbType = Int64), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 200), @p9='?' (DbType = Int32), @p10='?' (DbType = Int64), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ConversionJobs] ([JobId], [CompletedAt], [CreatedBy], [CreatedOn], [ErrorMessage], [FileSizeBytes], [InputFormat], [ObservationsCount], [OriginalFileName], [PatientsCount], [ProcessingTimeMs], [RequestId], [Status], [UpdatedBy], [UpdatedOn], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2026-01-12 18:07:29 [INF] Background conversion task started for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834"
2026-01-12 18:07:29 [INF] Conversion job created - FileId: "f414fe37-e976-453d-9134-7b184753cd2e", JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834"
2026-01-12 18:07:29 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:07:29 [INF] Starting conversion process for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834"
2026-01-12 18:07:29 [INF] Executed action Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api) in 297.5918ms
2026-01-12 18:07:29 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.StartConversion (Kanini.Api)'
2026-01-12 18:07:29 [INF] Request finished HTTP/1.1 POST http://localhost:5201/api/convert/start - 200 null application/json; charset=utf-8 344.7439ms
2026-01-12 18:07:29 [INF] Executed DbCommand (7ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:07:29 [INF] Processing file: C:\Users\maste\AppData\Local\Temp\TempUploads\f414fe37-e976-453d-9134-7b184753cd2e_sample_patient_data.xml for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834"
2026-01-12 18:07:29 [INF] Parsed 1 patient and 3 observations for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834"
2026-01-12 18:07:29 [WRN] No LOINC mapping found for test name: 'White Blood Cells', using text fallback
2026-01-12 18:07:29 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 18:07:29 [INF] Executed DbCommand (10ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int64), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ConversionJobs] SET [CompletedAt] = @p0, [ObservationsCount] = @p1, [PatientsCount] = @p2, [ProcessingTimeMs] = @p3, [Status] = @p4, [UpdatedBy] = @p5, [UpdatedOn] = @p6
OUTPUT 1
WHERE [JobId] = @p7;
2026-01-12 18:07:29 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:07:29 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [RequestId] = @p3;
2026-01-12 18:07:29 [INF] DataRequest "bb0439d4-3615-48ea-abd1-927527622fbe" marked as DataReady
2026-01-12 18:07:29 [INF] Conversion completed for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834", Patients: 1, Observations: 3
2026-01-12 18:07:31 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - null null
2026-01-12 18:07:31 [INF] CORS policy execution successful.
2026-01-12 18:07:31 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/status/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - 204 null null 8.0007ms
2026-01-12 18:07:31 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/status/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - null null
2026-01-12 18:07:31 [INF] CORS policy execution successful.
2026-01-12 18:07:31 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 18:07:31 [INF] Route matched with {action = "GetConversionStatus", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionStatus(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:31 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:07:31 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:07:31 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api) in 38.8769ms
2026-01-12 18:07:31 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionStatus (Kanini.Api)'
2026-01-12 18:07:31 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/status/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - 200 null application/json; charset=utf-8 100.6507ms
2026-01-12 18:07:31 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - null null
2026-01-12 18:07:31 [INF] CORS policy execution successful.
2026-01-12 18:07:31 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/preview/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - 204 null null 12.8096ms
2026-01-12 18:07:31 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/preview/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - null null
2026-01-12 18:07:31 [INF] CORS policy execution successful.
2026-01-12 18:07:31 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 18:07:31 [INF] Route matched with {action = "GetFhirPreview", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFhirPreview(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:31 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:07:31 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.FhirBundlePreviewDto'.
2026-01-12 18:07:31 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api) in 23.4029ms
2026-01-12 18:07:31 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetFhirPreview (Kanini.Api)'
2026-01-12 18:07:31 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/preview/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - 200 null application/json; charset=utf-8 64.0255ms
2026-01-12 18:07:37 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:07:37 [INF] CORS policy execution successful.
2026-01-12 18:07:37 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:37 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:07:37 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:07:37 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 7.3529ms
2026-01-12 18:07:37 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:37 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 29.6188ms
2026-01-12 18:07:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:07:38 [INF] CORS policy execution successful.
2026-01-12 18:07:38 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:38 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:07:38 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:07:38 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.8636ms
2026-01-12 18:07:38 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 28.9417ms
2026-01-12 18:07:39 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/bb0439d4-3615-48ea-abd1-927527622fbe - null null
2026-01-12 18:07:39 [INF] CORS policy execution successful.
2026-01-12 18:07:39 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5201/api/convert/by-request/bb0439d4-3615-48ea-abd1-927527622fbe - 204 null null 8.5383ms
2026-01-12 18:07:39 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/by-request/bb0439d4-3615-48ea-abd1-927527622fbe - null null
2026-01-12 18:07:39 [INF] CORS policy execution successful.
2026-01-12 18:07:39 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 18:07:39 [INF] Route matched with {action = "GetConversionByRequestId", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversionByRequestId(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:39 [INF] Executed DbCommand (4ms) [Parameters=[@requestId='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[RequestId] = @requestId
2026-01-12 18:07:39 [INF] Executing OkObjectResult, writing value of type 'Kanini.Application.DTOs.Conversion.ConversionStatusResponseDto'.
2026-01-12 18:07:39 [INF] Executed action Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api) in 39.648ms
2026-01-12 18:07:39 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.GetConversionByRequestId (Kanini.Api)'
2026-01-12 18:07:39 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/by-request/bb0439d4-3615-48ea-abd1-927527622fbe - 200 null application/json; charset=utf-8 90.3037ms
2026-01-12 18:07:39 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/convert/download/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - null null
2026-01-12 18:07:39 [INF] CORS policy execution successful.
2026-01-12 18:07:39 [INF] Executing endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 18:07:40 [INF] Route matched with {action = "DownloadFhirBundle", controller = "Conversion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadFhirBundle(System.Guid) on controller Kanini.Api.Controllers.ConversionController (Kanini.Api).
2026-01-12 18:07:40 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[JobId], [c].[CompletedAt], [c].[CreatedBy], [c].[CreatedOn], [c].[ErrorMessage], [c].[FileSizeBytes], [c].[InputFormat], [c].[ObservationsCount], [c].[OriginalFileName], [c].[PatientsCount], [c].[ProcessingTimeMs], [c].[RequestId], [c].[Status], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId]
FROM [ConversionJobs] AS [c]
WHERE [c].[JobId] = @p
2026-01-12 18:07:40 [WRN] No LOINC mapping found for test name: 'White Blood Cells', using text fallback
2026-01-12 18:07:40 [WRN] No UCUM mapping found for unit: '10^3/uL', using as-is
2026-01-12 18:07:40 [INF] Created FHIR Bundle with 1 Patient and 3 Observations
2026-01-12 18:07:40 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[RequestId], [d].[ApprovedAt], [d].[ApprovedByUserId], [d].[CreatedBy], [d].[CreatedOn], [d].[ExpiresAt], [d].[GlobalPatientId], [d].[Notes], [d].[OrganizationId], [d].[OrganizationId1], [d].[RequestingOrganizationId], [d].[RequestingUserId], [d].[SourceOrganizationId], [d].[Status], [d].[UpdatedBy], [d].[UpdatedOn]
FROM [DataRequests] AS [d]
WHERE [d].[RequestId] = @p
2026-01-12 18:07:40 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [DataRequests] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [RequestId] = @p2;
2026-01-12 18:07:40 [INF] DataRequest "bb0439d4-3615-48ea-abd1-927527622fbe" marked as completed
2026-01-12 18:07:40 [INF] FHIR bundle generated for JobId: "2f9aabc1-94e8-40d0-99a4-d85e0ca8b834", Size: 1850 bytes
2026-01-12 18:07:40 [INF] Executing FileContentResult, sending file with download name 'fhir-bundle-2f9aabc1-94e8-40d0-99a4-d85e0ca8b834.json' ...
2026-01-12 18:07:40 [INF] Executed action Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api) in 358.2888ms
2026-01-12 18:07:40 [INF] Executed endpoint 'Kanini.Api.Controllers.ConversionController.DownloadFhirBundle (Kanini.Api)'
2026-01-12 18:07:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/convert/download/2f9aabc1-94e8-40d0-99a4-d85e0ca8b834 - 200 1850 application/json 391.7146ms
2026-01-12 18:07:40 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:07:40 [INF] CORS policy execution successful.
2026-01-12 18:07:40 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:40 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:07:40 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:07:40 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 8.398ms
2026-01-12 18:07:40 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:07:40 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 25.6401ms
2026-01-12 18:08:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:08:08 [INF] CORS policy execution successful.
2026-01-12 18:08:08 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:08:08 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:08:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:08:08 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 37.2597ms
2026-01-12 18:08:08 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:08:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 67.7004ms
2026-01-12 18:08:38 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:08:38 [INF] CORS policy execution successful.
2026-01-12 18:08:38 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:08:38 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:08:38 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:08:38 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 6.8166ms
2026-01-12 18:08:38 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:08:38 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 33.1627ms
2026-01-12 18:09:08 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - null null
2026-01-12 18:09:08 [INF] CORS policy execution successful.
2026-01-12 18:09:08 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:09:08 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:09:08 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:09:08 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 22.4195ms
2026-01-12 18:09:08 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:09:08 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=true - 200 null application/json; charset=utf-8 44.6945ms
2026-01-12 18:09:21 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - null null
2026-01-12 18:09:21 [INF] CORS policy execution successful.
2026-01-12 18:09:21 [INF] Executing endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:09:21 [INF] Route matched with {action = "GetRequests", controller = "DataRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequests(Boolean) on controller Kanini.Api.Controllers.DataRequestsController (Kanini.Api).
2026-01-12 18:09:22 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.DataRequests.DataRequestResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:09:22 [INF] Executed action Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api) in 58.2533ms
2026-01-12 18:09:22 [INF] Executed endpoint 'Kanini.Api.Controllers.DataRequestsController.GetRequests (Kanini.Api)'
2026-01-12 18:09:22 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/data-requests?isRequesting=false - 200 null application/json; charset=utf-8 96.6968ms
2026-01-12 18:09:24 [INF] Request starting HTTP/1.1 GET http://localhost:5201/api/patients - null null
2026-01-12 18:09:24 [INF] CORS policy execution successful.
2026-01-12 18:09:24 [INF] Executing endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:09:24 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPatients() on controller Kanini.Api.Controllers.PatientsController (Kanini.Api).
2026-01-12 18:09:24 [INF] Getting all patients
2026-01-12 18:09:24 [INF] Getting all patients
2026-01-12 18:09:24 [INF] Retrieved 1 patients
2026-01-12 18:09:24 [INF] Retrieved 1 patients
2026-01-12 18:09:24 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Application.DTOs.Patients.PatientResponseDto, Kanini.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-12 18:09:24 [INF] Executed action Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api) in 19.9356ms
2026-01-12 18:09:24 [INF] Executed endpoint 'Kanini.Api.Controllers.PatientsController.GetAllPatients (Kanini.Api)'
2026-01-12 18:09:24 [INF] Request finished HTTP/1.1 GET http://localhost:5201/api/patients - 200 null application/json; charset=utf-8 59.1009ms
2026-01-12 18:09:30 [INF] Application is shutting down...
